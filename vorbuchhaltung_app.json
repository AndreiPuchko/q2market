{
 "modules": [
  {
   "name": "_test_cursor",
   "script": "st = Q2Form(\"Select tables for export\")\r\nst.ok_button =1\r\nst.cancel_button =1\r\n\r\ndef get_widgets(st=st):\r\n    return [x for x in st.widgets() if x.startswith(\"c_\")]\r\n\r\ntables = [x for x in q2app.q2_app.db_data.get_tables() if not x.startswith(\"log_\") and x !=\"sqlite_sequence\"]\r\nif st.add_control(\"/v\"):\r\n    if st.add_control(\"/vr\"):\r\n        tables.sort()\r\n        for index, table in enumerate(tables):\r\n            label = get(\"forms\", f\"form_table='{table}'\", \"title\", self.db_logic)\r\n            st.add_control(f\"c_{index}\", pic=f\"{table} ({label})\", control=\"check\", data=1, stretch=99)\r\n    st.add_control(\"/\")\r\nst.add_control(\"/\")\r\nst.add_control(\"/h\")\r\nst.add_control(f\"all\", \"Check all\", control=\"button\", datalen=10, valid=lambda: [st.s.__setattr__(x, 1) for x in get_widgets()])\r\nst.add_control(f\"nothing\", \"Uncheck all\", control=\"button\", datalen=10, valid=lambda: [st.s.__setattr__(x, 0) for x in get_widgets()])\r\nst.add_control(f\"invert\", \"Invert\", control=\"button\", datalen=10, valid=lambda: [st.s.__setattr__(x, 0 if st.s.__getattr__(x) else 1 ) for x in get_widgets()])\r\nst.add_control(\"/\")\r\nst.run()\r\n\r\n\r\nif st.ok_pressed:\r\n    ?[table for index, table in enumerate(tables) if st.s.__getattr__(f\"c_{index}\")]",
   "comment": "",
   "last_line": "24",
   "q2_time": "20240527210002",
   "q2_mode": "u"
  },
  {
   "name": "_test_rnummer",
   "script": "def get_recnung(text):\r\n    mm=[]\r\n    mm.append(\"rechnungsnummer\")\r\n    mm.append(\"auftragsnummer:\")\r\n    mm.append(\"vat nr\")\r\n    mm.append(\"invoice no.\")\r\n    mm.append(\"invoice no\")\r\n    mm.append(\"invoice\")\r\n    mm.append(\"dok nr\")\r\n    mm.append(\"re.-nr.\")\r\n    mm.append(\"r.\")\r\n    mm.append(\"abschlagsrechnung\")\r\n    mm.append(\"rechn nr.\")\r\n    mm.append(\"baltas naktis sia\")\r\n    mm.append(\"beatus sia\")\r\n    mm.append(\"inv. no.\")\r\n    mm.append(\"auftragsnummer:\")\r\n    mm.append(\"faktuurnummer\")\r\n    mm.append(\"inv\")\r\n    mm.append(\"proforma-rechnung\")\r\n    mm.append(\"auftrag\")\r\n    mm.append(\"rnr\")\r\n    # mm.append(\"rg\")   #\" VOM \"\r\n    mm.append(\"gutschrift\")\r\n\r\n    mm.append(\"rechnung\")\r\n    mm.append(\"beleg\" )\r\n    mm.append(\"01 re\")\r\n    res = \"\"\r\n    for x in mm:\r\n        tmp = text.lower().split(x)\r\n        if len(tmp) > 1:\r\n            return tmp[1].strip().split(\" \")[0].upper()\r\n    \r\n    return \"\"\r\n      \r\n# ?get_recnung(\"b\u00fcroshop24 GmbH DEUTDEFF510 DE61510700210031131600 Rechnungsnummer 139613288, Kd. 9117 8044 End-to-End-Ref.: CCB.73.UE.148893\")\r\n# ?get_recnung(\"DIOSNA Dierks und S\u00f6hne GmbH DEUTDE3B265 DE03265700900381484500 Rechnung 4887087 Kunde 102138 End-to-End-Ref.: CCB.71.UE.176629\")\r\n# ?get_recnung(\"HABY NORSKE SJALUSIER AS INVOICE NO 202490054 End-to-End-Ref.: NOTPROVIDED Kundenreferenz: NSCT2403050007480000000000000000003\")\r\n\r\n\r\ncu = q2cursor(\"select id, content2 from bank where content2<>''\")\r\nw= q2_wait(cu.row_count())\r\nfor row in cu.records():\r\n    w.step(100)\r\n    rechn = get_recnung(row['content2'])\r\n    if rechn:\r\n        row[\"rechnung\"] = rechn\r\n        update(\"bank\", row)\r\nw.close()",
   "comment": "",
   "last_line": "35",
   "q2_time": "20240528103337",
   "q2_mode": "u"
  },
  {
   "name": "_test_val",
   "script": "def get_curs(val, date, summa):\r\n    k = q2cursor(f\"select kurs from kurse where cur='{val}' and date like '{date[:7]}%' limit 1\").r.kurs\r\n    if num(k) != 0:\r\n        return round(num(k)*num(summa), 2)\r\n    else:\r\n        return summa\r\n\r\nval = \"\"\r\ndate = \"2024-01-06\"\r\nsumma = 1.0\r\n\r\n# ?get_curs(val, date, summa)\r\n# import define_export_columns\r\n# ?fieldnames\r\n\r\n# from datetime import datetime\r\n# ?datetime.strptime",
   "comment": "",
   "last_line": "17",
   "q2_time": "20240517110833",
   "q2_mode": "u"
  },
  {
   "name": "autorun",
   "script": "# run_form(\"bank_af\")\r\n# const.ipath=\"C:\\\\Users\\\\andre\\\\My Drive\\\\Ing\"\r\n# Q2Lines().run()\r\nconst.check(\"date1\", \"Beginn der Arbeitsperiode\", \"2024-01-01\")\r\nconst.check(\"date2\", \"Ende der Arbeitsperiode\", \"2024-01-31\")\r\n# run_form(\"sales\")\r\n# self.run_reports()\r\n# self.run_app_manager()\r\n\r\n\r\nif myapp.db_data.table(\"banken\").row_count() <=0:\r\n    insert(\"banken\", {\"name\": \"-\"})\r\n    insert(\"banken\", {\"name\": \"Sparkasse\", \"algo\": 1})\r\n    insert(\"banken\", {\"name\": \"Postbank\", \"algo\": 2})\r\n    insert(\"banken\", {\"name\": \"ING\", \"algo\": 3})\r\n    insert(\"banken\", {\"name\": \"PayPal\", \"algo\": 4})\r\n    insert(\"banken\", {\"name\": \"Commerzbank\", \"algo\": 5})\r\n    insert(\"banken\", {\"name\": \"Finom\", \"algo\": 6})\r\n    insert(\"banken\", {\"name\": \"HypoVereinsbank\", \"algo\": 7})\r\n    \r\nif myapp.db_data.table(\"plattformen\").row_count() <=0:\r\n    insert(\"plattformen\", {\"name\": \"-\"})\r\n    insert(\"plattformen\", {\"name\": \"Amazon\", \"algo\": 1})\r\n    insert(\"plattformen\", {\"name\": \"eBay\", \"algo\": 2})\r\n    insert(\"plattformen\", {\"name\": \"Etsy\", \"algo\": 3})\r\n    insert(\"plattformen\", {\"name\": \"Shopify\", \"algo\": 4})\r\n    insert(\"plattformen\", {\"name\": \"Easybill\", \"algo\": 5})\r\n    \r\nif myapp.db_data.table(\"konten\").row_count() <=0:\r\n    insert(\"konten\", {\"konto_name\": \"-\", \"bk\":0})\r\n    \r\nif myapp.db_data.table(\"shops\").row_count() <=0:\r\n    insert(\"shops\", {\"name\": \"-\", \"pl\": 0})\r\n    \r\nif myapp.db_data.table(\"country\").row_count() <=0:\r\n    insert(\"country\", {\"a2\":\"\", \"name\": \"-\", \"pl\": 0})\r\n    insert(\"country\", {\"a2\":\"-\", \"name\": \"-\", \"pl\": 0})\r\n    insert('country', {'a2':'AF', 'a3':'AFG', 'name':'Afghanistan'})\r\n    insert('country', {'a2':'AX', 'a3':'ALA', 'name':'\u00c5land Islands'})\r\n    insert('country', {'a2':'AL', 'a3':'ALB', 'name':'Albania'})\r\n    insert('country', {'a2':'DZ', 'a3':'DZA', 'name':'Algeria'})\r\n    insert('country', {'a2':'AS', 'a3':'ASM', 'name':'American Samoa'})\r\n    insert('country', {'a2':'AD', 'a3':'AND', 'name':'Andorra'})\r\n    insert('country', {'a2':'AO', 'a3':'AGO', 'name':'Angola'})\r\n    insert('country', {'a2':'AI', 'a3':'AIA', 'name':'Anguilla'})\r\n    insert('country', {'a2':'AQ', 'a3':'ATA', 'name':'Antarctica'})\r\n    insert('country', {'a2':'AG', 'a3':'ATG', 'name':'Antigua and Barbuda'})\r\n    insert('country', {'a2':'AR', 'a3':'ARG', 'name':'Argentina'})\r\n    insert('country', {'a2':'AM', 'a3':'ARM', 'name':'Armenia'})\r\n    insert('country', {'a2':'AW', 'a3':'ABW', 'name':'Aruba'})\r\n    insert('country', {'a2':'AU', 'a3':'AUS', 'name':'Australia'})\r\n    insert('country', {'a2':'AT', 'a3':'AUT', 'name':'Austria'})\r\n    insert('country', {'a2':'AZ', 'a3':'AZE', 'name':'Azerbaijan'})\r\n    insert('country', {'a2':'BS', 'a3':'BHS', 'name':'Bahamas'})\r\n    insert('country', {'a2':'BH', 'a3':'BHR', 'name':'Bahrain'})\r\n    insert('country', {'a2':'BD', 'a3':'BGD', 'name':'Bangladesh'})\r\n    insert('country', {'a2':'BB', 'a3':'BRB', 'name':'Barbados'})\r\n    insert('country', {'a2':'BY', 'a3':'BLR', 'name':'Belarus'})\r\n    insert('country', {'a2':'BE', 'a3':'BEL', 'name':'Belgium'})\r\n    insert('country', {'a2':'BZ', 'a3':'BLZ', 'name':'Belize'})\r\n    insert('country', {'a2':'BJ', 'a3':'BEN', 'name':'Benin'})\r\n    insert('country', {'a2':'BM', 'a3':'BMU', 'name':'Bermuda'})\r\n    insert('country', {'a2':'BT', 'a3':'BTN', 'name':'Bhutan'})\r\n    insert('country', {'a2':'BO', 'a3':'BOL', 'name':'Bolivia (Plurinational State of)'})\r\n    insert('country', {'a2':'BQ', 'a3':'BES', 'name':'Bonaire, Sint Eustatius and Saba'})\r\n    insert('country', {'a2':'BA', 'a3':'BIH', 'name':'Bosnia and Herzegovina'})\r\n    insert('country', {'a2':'BW', 'a3':'BWA', 'name':'Botswana'})\r\n    insert('country', {'a2':'BV', 'a3':'BVT', 'name':'Bouvet Island'})\r\n    insert('country', {'a2':'BR', 'a3':'BRA', 'name':'Brazil'})\r\n    insert('country', {'a2':'IO', 'a3':'IOT', 'name':'British Indian Ocean Territory'})\r\n    insert('country', {'a2':'BN', 'a3':'BRN', 'name':'Brunei Darussalam'})\r\n    insert('country', {'a2':'BG', 'a3':'BGR', 'name':'Bulgaria'})\r\n    insert('country', {'a2':'BF', 'a3':'BFA', 'name':'Burkina Faso'})\r\n    insert('country', {'a2':'BI', 'a3':'BDI', 'name':'Burundi'})\r\n    insert('country', {'a2':'CV', 'a3':'CPV', 'name':'Cabo Verde'})\r\n    insert('country', {'a2':'KH', 'a3':'KHM', 'name':'Cambodia'})\r\n    insert('country', {'a2':'CM', 'a3':'CMR', 'name':'Cameroon'})\r\n    insert('country', {'a2':'CA', 'a3':'CAN', 'name':'Canada'})\r\n    insert('country', {'a2':'KY', 'a3':'CYM', 'name':'Cayman Islands'})\r\n    insert('country', {'a2':'CF', 'a3':'CAF', 'name':'Central African Republic'})\r\n    insert('country', {'a2':'TD', 'a3':'TCD', 'name':'Chad'})\r\n    insert('country', {'a2':'CL', 'a3':'CHL', 'name':'Chile'})\r\n    insert('country', {'a2':'CN', 'a3':'CHN', 'name':'China'})\r\n    insert('country', {'a2':'CX', 'a3':'CXR', 'name':'Christmas Island'})\r\n    insert('country', {'a2':'CC', 'a3':'CCK', 'name':'Cocos (Keeling) Islands'})\r\n    insert('country', {'a2':'CO', 'a3':'COL', 'name':'Colombia'})\r\n    insert('country', {'a2':'KM', 'a3':'COM', 'name':'Comoros'})\r\n    insert('country', {'a2':'CG', 'a3':'COG', 'name':'Congo'})\r\n    insert('country', {'a2':'CD', 'a3':'COD', 'name':'Congo, Democratic Republic of the'})\r\n    insert('country', {'a2':'CK', 'a3':'COK', 'name':'Cook Islands'})\r\n    insert('country', {'a2':'CR', 'a3':'CRI', 'name':'Costa Rica'})\r\n    insert('country', {'a2':'CI', 'a3':'CIV', 'name':'C\u00f4te d''Ivoire'})\r\n    insert('country', {'a2':'HR', 'a3':'HRV', 'name':'Croatia'})\r\n    insert('country', {'a2':'CU', 'a3':'CUB', 'name':'Cuba'})\r\n    insert('country', {'a2':'CW', 'a3':'CUW', 'name':'Cura\u00e7ao'})\r\n    insert('country', {'a2':'CY', 'a3':'CYP', 'name':'Cyprus'})\r\n    insert('country', {'a2':'CZ', 'a3':'CZE', 'name':'Czechia'})\r\n    insert('country', {'a2':'DK', 'a3':'DNK', 'name':'Denmark'})\r\n    insert('country', {'a2':'DJ', 'a3':'DJI', 'name':'Djibouti'})\r\n    insert('country', {'a2':'DM', 'a3':'DMA', 'name':'Dominica'})\r\n    insert('country', {'a2':'DO', 'a3':'DOM', 'name':'Dominican Republic'})\r\n    insert('country', {'a2':'EC', 'a3':'ECU', 'name':'Ecuador'})\r\n    insert('country', {'a2':'EG', 'a3':'EGY', 'name':'Egypt'})\r\n    insert('country', {'a2':'SV', 'a3':'SLV', 'name':'El Salvador'})\r\n    insert('country', {'a2':'GQ', 'a3':'GNQ', 'name':'Equatorial Guinea'})\r\n    insert('country', {'a2':'ER', 'a3':'ERI', 'name':'Eritrea'})\r\n    insert('country', {'a2':'EE', 'a3':'EST', 'name':'Estonia'})\r\n    insert('country', {'a2':'SZ', 'a3':'SWZ', 'name':'Eswatini'})\r\n    insert('country', {'a2':'ET', 'a3':'ETH', 'name':'Ethiopia'})\r\n    insert('country', {'a2':'FK', 'a3':'FLK', 'name':'Falkland Islands (Malvinas)'})\r\n    insert('country', {'a2':'FO', 'a3':'FRO', 'name':'Faroe Islands'})\r\n    insert('country', {'a2':'FJ', 'a3':'FJI', 'name':'Fiji'})\r\n    insert('country', {'a2':'FI', 'a3':'FIN', 'name':'Finland'})\r\n    insert('country', {'a2':'FR', 'a3':'FRA', 'name':'France'})\r\n    insert('country', {'a2':'GF', 'a3':'GUF', 'name':'French Guiana'})\r\n    insert('country', {'a2':'PF', 'a3':'PYF', 'name':'French Polynesia'})\r\n    insert('country', {'a2':'TF', 'a3':'ATF', 'name':'French Southern Territories'})\r\n    insert('country', {'a2':'GA', 'a3':'GAB', 'name':'Gabon'})\r\n    insert('country', {'a2':'GM', 'a3':'GMB', 'name':'Gambia'})\r\n    insert('country', {'a2':'GE', 'a3':'GEO', 'name':'Georgia'})\r\n    insert('country', {'a2':'DE', 'a3':'DEU', 'name':'Germany'})\r\n    insert('country', {'a2':'GH', 'a3':'GHA', 'name':'Ghana'})\r\n    insert('country', {'a2':'GI', 'a3':'GIB', 'name':'Gibraltar'})\r\n    insert('country', {'a2':'GR', 'a3':'GRC', 'name':'Greece'})\r\n    insert('country', {'a2':'GL', 'a3':'GRL', 'name':'Greenland'})\r\n    insert('country', {'a2':'GD', 'a3':'GRD', 'name':'Grenada'})\r\n    insert('country', {'a2':'GP', 'a3':'GLP', 'name':'Guadeloupe'})\r\n    insert('country', {'a2':'GU', 'a3':'GUM', 'name':'Guam'})\r\n    insert('country', {'a2':'GT', 'a3':'GTM', 'name':'Guatemala'})\r\n    insert('country', {'a2':'GG', 'a3':'GGY', 'name':'Guernsey'})\r\n    insert('country', {'a2':'GN', 'a3':'GIN', 'name':'Guinea'})\r\n    insert('country', {'a2':'GW', 'a3':'GNB', 'name':'Guinea-Bissau'})\r\n    insert('country', {'a2':'GY', 'a3':'GUY', 'name':'Guyana'})\r\n    insert('country', {'a2':'HT', 'a3':'HTI', 'name':'Haiti'})\r\n    insert('country', {'a2':'HM', 'a3':'HMD', 'name':'Heard Island and McDonald Islands'})\r\n    insert('country', {'a2':'VA', 'a3':'VAT', 'name':'Holy See'})\r\n    insert('country', {'a2':'HN', 'a3':'HND', 'name':'Honduras'})\r\n    insert('country', {'a2':'HK', 'a3':'HKG', 'name':'Hong Kong'})\r\n    insert('country', {'a2':'HU', 'a3':'HUN', 'name':'Hungary'})\r\n    insert('country', {'a2':'IS', 'a3':'ISL', 'name':'Iceland'})\r\n    insert('country', {'a2':'IN', 'a3':'IND', 'name':'India'})\r\n    insert('country', {'a2':'ID', 'a3':'IDN', 'name':'Indonesia'})\r\n    insert('country', {'a2':'IR', 'a3':'IRN', 'name':'Iran (Islamic Republic of)'})\r\n    insert('country', {'a2':'IQ', 'a3':'IRQ', 'name':'Iraq'})\r\n    insert('country', {'a2':'IE', 'a3':'IRL', 'name':'Ireland'})\r\n    insert('country', {'a2':'IM', 'a3':'IMN', 'name':'Isle of Man'})\r\n    insert('country', {'a2':'IL', 'a3':'ISR', 'name':'Israel'})\r\n    insert('country', {'a2':'IT', 'a3':'ITA', 'name':'Italy'})\r\n    insert('country', {'a2':'JM', 'a3':'JAM', 'name':'Jamaica'})\r\n    insert('country', {'a2':'JP', 'a3':'JPN', 'name':'Japan'})\r\n    insert('country', {'a2':'JE', 'a3':'JEY', 'name':'Jersey'})\r\n    insert('country', {'a2':'JO', 'a3':'JOR', 'name':'Jordan'})\r\n    insert('country', {'a2':'KZ', 'a3':'KAZ', 'name':'Kazakhstan'})\r\n    insert('country', {'a2':'KE', 'a3':'KEN', 'name':'Kenya'})\r\n    insert('country', {'a2':'KI', 'a3':'KIR', 'name':'Kiribati'})\r\n    insert('country', {'a2':'KP', 'a3':'PRK', 'name':'Korea (Democratic People''s Republic of)'})\r\n    insert('country', {'a2':'KR', 'a3':'KOR', 'name':'Korea, Republic of'})\r\n    insert('country', {'a2':'KW', 'a3':'KWT', 'name':'Kuwait'})\r\n    insert('country', {'a2':'KG', 'a3':'KGZ', 'name':'Kyrgyzstan'})\r\n    insert('country', {'a2':'LA', 'a3':'LAO', 'name':'Lao People''s Democratic Republic'})\r\n    insert('country', {'a2':'LV', 'a3':'LVA', 'name':'Latvia'})\r\n    insert('country', {'a2':'LB', 'a3':'LBN', 'name':'Lebanon'})\r\n    insert('country', {'a2':'LS', 'a3':'LSO', 'name':'Lesotho'})\r\n    insert('country', {'a2':'LR', 'a3':'LBR', 'name':'Liberia'})\r\n    insert('country', {'a2':'LY', 'a3':'LBY', 'name':'Libya'})\r\n    insert('country', {'a2':'LI', 'a3':'LIE', 'name':'Liechtenstein'})\r\n    insert('country', {'a2':'LT', 'a3':'LTU', 'name':'Lithuania'})\r\n    insert('country', {'a2':'LU', 'a3':'LUX', 'name':'Luxembourg'})\r\n    insert('country', {'a2':'MO', 'a3':'MAC', 'name':'Macao'})\r\n    insert('country', {'a2':'MG', 'a3':'MDG', 'name':'Madagascar'})\r\n    insert('country', {'a2':'MW', 'a3':'MWI', 'name':'Malawi'})\r\n    insert('country', {'a2':'MY', 'a3':'MYS', 'name':'Malaysia'})\r\n    insert('country', {'a2':'MV', 'a3':'MDV', 'name':'Maldives'})\r\n    insert('country', {'a2':'ML', 'a3':'MLI', 'name':'Mali'})\r\n    insert('country', {'a2':'MT', 'a3':'MLT', 'name':'Malta'})\r\n    insert('country', {'a2':'MH', 'a3':'MHL', 'name':'Marshall Islands'})\r\n    insert('country', {'a2':'MQ', 'a3':'MTQ', 'name':'Martinique'})\r\n    insert('country', {'a2':'MR', 'a3':'MRT', 'name':'Mauritania'})\r\n    insert('country', {'a2':'MU', 'a3':'MUS', 'name':'Mauritius'})\r\n    insert('country', {'a2':'YT', 'a3':'MYT', 'name':'Mayotte'})\r\n    insert('country', {'a2':'MX', 'a3':'MEX', 'name':'Mexico'})\r\n    insert('country', {'a2':'FM', 'a3':'FSM', 'name':'Micronesia (Federated States of)'})\r\n    insert('country', {'a2':'MD', 'a3':'MDA', 'name':'Moldova, Republic of'})\r\n    insert('country', {'a2':'MC', 'a3':'MCO', 'name':'Monaco'})\r\n    insert('country', {'a2':'MN', 'a3':'MNG', 'name':'Mongolia'})\r\n    insert('country', {'a2':'ME', 'a3':'MNE', 'name':'Montenegro'})\r\n    insert('country', {'a2':'MS', 'a3':'MSR', 'name':'Montserrat'})\r\n    insert('country', {'a2':'MA', 'a3':'MAR', 'name':'Morocco'})\r\n    insert('country', {'a2':'MZ', 'a3':'MOZ', 'name':'Mozambique'})\r\n    insert('country', {'a2':'MM', 'a3':'MMR', 'name':'Myanmar'})\r\n    insert('country', {'a2':'NA', 'a3':'NAM', 'name':'Namibia'})\r\n    insert('country', {'a2':'NR', 'a3':'NRU', 'name':'Nauru'})\r\n    insert('country', {'a2':'NP', 'a3':'NPL', 'name':'Nepal'})\r\n    insert('country', {'a2':'NL', 'a3':'NLD', 'name':'Netherlands'})\r\n    insert('country', {'a2':'NC', 'a3':'NCL', 'name':'New Caledonia'})\r\n    insert('country', {'a2':'NZ', 'a3':'NZL', 'name':'New Zealand'})\r\n    insert('country', {'a2':'NI', 'a3':'NIC', 'name':'Nicaragua'})\r\n    insert('country', {'a2':'NE', 'a3':'NER', 'name':'Niger'})\r\n    insert('country', {'a2':'NG', 'a3':'NGA', 'name':'Nigeria'})\r\n    insert('country', {'a2':'NU', 'a3':'NIU', 'name':'Niue'})\r\n    insert('country', {'a2':'NF', 'a3':'NFK', 'name':'Norfolk Island'})\r\n    insert('country', {'a2':'MK', 'a3':'MKD', 'name':'North Macedonia'})\r\n    insert('country', {'a2':'MP', 'a3':'MNP', 'name':'Northern Mariana Islands'})\r\n    insert('country', {'a2':'NO', 'a3':'NOR', 'name':'Norway'})\r\n    insert('country', {'a2':'OM', 'a3':'OMN', 'name':'Oman'})\r\n    insert('country', {'a2':'PK', 'a3':'PAK', 'name':'Pakistan'})\r\n    insert('country', {'a2':'PW', 'a3':'PLW', 'name':'Palau'})\r\n    insert('country', {'a2':'PS', 'a3':'PSE', 'name':'Palestine, State of'})\r\n    insert('country', {'a2':'PA', 'a3':'PAN', 'name':'Panama'})\r\n    insert('country', {'a2':'PG', 'a3':'PNG', 'name':'Papua New Guinea'})\r\n    insert('country', {'a2':'PY', 'a3':'PRY', 'name':'Paraguay'})\r\n    insert('country', {'a2':'PE', 'a3':'PER', 'name':'Peru'})\r\n    insert('country', {'a2':'PH', 'a3':'PHL', 'name':'Philippines'})\r\n    insert('country', {'a2':'PN', 'a3':'PCN', 'name':'Pitcairn'})\r\n    insert('country', {'a2':'PL', 'a3':'POL', 'name':'Poland'})\r\n    insert('country', {'a2':'PT', 'a3':'PRT', 'name':'Portugal'})\r\n    insert('country', {'a2':'PR', 'a3':'PRI', 'name':'Puerto Rico'})\r\n    insert('country', {'a2':'QA', 'a3':'QAT', 'name':'Qatar'})\r\n    insert('country', {'a2':'RE', 'a3':'REU', 'name':'R\u00e9union'})\r\n    insert('country', {'a2':'RO', 'a3':'ROU', 'name':'Romania'})\r\n    insert('country', {'a2':'RU', 'a3':'RUS', 'name':'Russian Federation'})\r\n    insert('country', {'a2':'RW', 'a3':'RWA', 'name':'Rwanda'})\r\n    insert('country', {'a2':'BL', 'a3':'BLM', 'name':'Saint Barth\u00e9lemy'})\r\n    insert('country', {'a2':'SH', 'a3':'SHN', 'name':'Saint Helena, Ascension and Tristan da Cunha'})\r\n    insert('country', {'a2':'KN', 'a3':'KNA', 'name':'Saint Kitts and Nevis'})\r\n    insert('country', {'a2':'LC', 'a3':'LCA', 'name':'Saint Lucia'})\r\n    insert('country', {'a2':'MF', 'a3':'MAF', 'name':'Saint Martin (French part)'})\r\n    insert('country', {'a2':'PM', 'a3':'SPM', 'name':'Saint Pierre and Miquelon'})\r\n    insert('country', {'a2':'VC', 'a3':'VCT', 'name':'Saint Vincent and the Grenadines'})\r\n    insert('country', {'a2':'WS', 'a3':'WSM', 'name':'Samoa'})\r\n    insert('country', {'a2':'SM', 'a3':'SMR', 'name':'San Marino'})\r\n    insert('country', {'a2':'ST', 'a3':'STP', 'name':'Sao Tome and Principe'})\r\n    insert('country', {'a2':'SA', 'a3':'SAU', 'name':'Saudi Arabia'})\r\n    insert('country', {'a2':'SN', 'a3':'SEN', 'name':'Senegal'})\r\n    insert('country', {'a2':'RS', 'a3':'SRB', 'name':'Serbia'})\r\n    insert('country', {'a2':'SC', 'a3':'SYC', 'name':'Seychelles'})\r\n    insert('country', {'a2':'SL', 'a3':'SLE', 'name':'Sierra Leone'})\r\n    insert('country', {'a2':'SG', 'a3':'SGP', 'name':'Singapore'})\r\n    insert('country', {'a2':'SX', 'a3':'SXM', 'name':'Sint Maarten (Dutch part)'})\r\n    insert('country', {'a2':'SK', 'a3':'SVK', 'name':'Slovakia'})\r\n    insert('country', {'a2':'SI', 'a3':'SVN', 'name':'Slovenia'})\r\n    insert('country', {'a2':'SB', 'a3':'SLB', 'name':'Solomon Islands'})\r\n    insert('country', {'a2':'SO', 'a3':'SOM', 'name':'Somalia'})\r\n    insert('country', {'a2':'ZA', 'a3':'ZAF', 'name':'South Africa'})\r\n    insert('country', {'a2':'GS', 'a3':'SGS', 'name':'South Georgia and the South Sandwich Islands'})\r\n    insert('country', {'a2':'SS', 'a3':'SSD', 'name':'South Sudan'})\r\n    insert('country', {'a2':'ES', 'a3':'ESP', 'name':'Spain'})\r\n    insert('country', {'a2':'LK', 'a3':'LKA', 'name':'Sri Lanka'})\r\n    insert('country', {'a2':'SD', 'a3':'SDN', 'name':'Sudan'})\r\n    insert('country', {'a2':'SR', 'a3':'SUR', 'name':'Suriname'})\r\n    insert('country', {'a2':'SJ', 'a3':'SJM', 'name':'Svalbard and Jan Mayen'})\r\n    insert('country', {'a2':'SE', 'a3':'SWE', 'name':'Sweden'})\r\n    insert('country', {'a2':'CH', 'a3':'CHE', 'name':'Switzerland'})\r\n    insert('country', {'a2':'SY', 'a3':'SYR', 'name':'Syrian Arab Republic'})\r\n    insert('country', {'a2':'TW', 'a3':'TWN', 'name':'Taiwan, Province of China'})\r\n    insert('country', {'a2':'TJ', 'a3':'TJK', 'name':'Tajikistan'})\r\n    insert('country', {'a2':'TZ', 'a3':'TZA', 'name':'Tanzania, United Republic of'})\r\n    insert('country', {'a2':'TH', 'a3':'THA', 'name':'Thailand'})\r\n    insert('country', {'a2':'TL', 'a3':'TLS', 'name':'Timor-Leste'})\r\n    insert('country', {'a2':'TG', 'a3':'TGO', 'name':'Togo'})\r\n    insert('country', {'a2':'TK', 'a3':'TKL', 'name':'Tokelau'})\r\n    insert('country', {'a2':'TO', 'a3':'TON', 'name':'Tonga'})\r\n    insert('country', {'a2':'TT', 'a3':'TTO', 'name':'Trinidad and Tobago'})\r\n    insert('country', {'a2':'TN', 'a3':'TUN', 'name':'Tunisia'})\r\n    insert('country', {'a2':'TR', 'a3':'TUR', 'name':'Turkey'})\r\n    insert('country', {'a2':'TM', 'a3':'TKM', 'name':'Turkmenistan'})\r\n    insert('country', {'a2':'TC', 'a3':'TCA', 'name':'Turks and Caicos Islands'})\r\n    insert('country', {'a2':'TV', 'a3':'TUV', 'name':'Tuvalu'})\r\n    insert('country', {'a2':'UG', 'a3':'UGA', 'name':'Uganda'})\r\n    insert('country', {'a2':'UA', 'a3':'UKR', 'name':'Ukraine'})\r\n    insert('country', {'a2':'AE', 'a3':'ARE', 'name':'United Arab Emirates'})\r\n    insert('country', {'a2':'GB', 'a3':'GBR', 'name':'United Kingdom of Great Britain and Northern Ireland'})\r\n    insert('country', {'a2':'US', 'a3':'USA', 'name':'United States of America'})\r\n    insert('country', {'a2':'UM', 'a3':'UMI', 'name':'United States Minor Outlying Islands'})\r\n    insert('country', {'a2':'UY', 'a3':'URY', 'name':'Uruguay'})\r\n    insert('country', {'a2':'UZ', 'a3':'UZB', 'name':'Uzbekistan'})\r\n    insert('country', {'a2':'VU', 'a3':'VUT', 'name':'Vanuatu'})\r\n    insert('country', {'a2':'VE', 'a3':'VEN', 'name':'Venezuela (Bolivarian Republic of)'})\r\n    insert('country', {'a2':'VN', 'a3':'VNM', 'name':'Viet Nam'})\r\n    insert('country', {'a2':'VG', 'a3':'VGB', 'name':'Virgin Islands (British)'})\r\n    insert('country', {'a2':'VI', 'a3':'VIR', 'name':'Virgin Islands (U.S.)'})\r\n    insert('country', {'a2':'WF', 'a3':'WLF', 'name':'Wallis and Futuna'})\r\n    insert('country', {'a2':'EH', 'a3':'ESH', 'name':'Western Sahara'})\r\n    insert('country', {'a2':'YE', 'a3':'YEM', 'name':'Yemen'})\r\n    insert('country', {'a2':'ZM', 'a3':'ZMB', 'name':'Zambia'})\r\n    insert('country', {'a2':'ZW', 'a3':'ZWE', 'name':'Zimbabwe'})\r\n    import eu_patch",
   "comment": "",
   "last_line": "7",
   "q2_time": "20240404131034",
   "q2_mode": "u"
  },
  {
   "name": "define_export_columns",
   "script": "fieldnames  = []\r\nfieldnames.append(\"Datum\") #Buchungstag\r\nfieldnames.append(\"Umsatz in Euro\") #Umsatz\r\nfieldnames.append(\"Beleg1\") #Verwendungszweck\r\nfieldnames.append(\"Beleg2\") #Beg\u00fcnstigter / Auftraggeber\r\nfieldnames.append(\"Steuerschluessel\")  #UstSchluss\r\nfieldnames.append(\"Gegenkto\") #Gegenkonto \r\nfieldnames.append(\"Buchungstext\") #\r\nfieldnames.append(\"USt-Land Bestimmung\") # BestimLand\r\nfieldnames.append(\"USt-Land Urspung\") #Urspungsland\r\nfieldnames.append(\"USt-% Bestimmung\") #UmSt\r\nfieldnames.append(\"Umsatzsteuer-ID\") # VatNummer\r\nfieldnames.append(\"Konto\")\r\nfieldnames.append(\"Waehrung\") # - \u043d\u0435 \u043d\u0443\u0436\u043d\u0430\r\nfieldnames.append(\"Umsatz in Waehrung\") # - \u043d\u0435 \u043d\u0443\u0436\u043d\u0430",
   "comment": "",
   "last_line": "16",
   "q2_time": "20240828134815",
   "q2_mode": "u"
  },
  {
   "name": "eu_patch",
   "script": "update('country', {'a2':'BE','eu':'*'})\r\nupdate('country', {'a2':'BG','eu':'*'})\r\nupdate('country', {'a2':'DK','eu':'*'})\r\nupdate('country', {'a2':'DE','eu':'*'})\r\nupdate('country', {'a2':'EE','eu':'*'})\r\nupdate('country', {'a2':'FI','eu':'*'})\r\nupdate('country', {'a2':'FR','eu':'*'})\r\nupdate('country', {'a2':'GR','eu':'*'})\r\nupdate('country', {'a2':'IE','eu':'*'})\r\nupdate('country', {'a2':'IT','eu':'*'})\r\nupdate('country', {'a2':'HR','eu':'*'})\r\nupdate('country', {'a2':'LV','eu':'*'})\r\nupdate('country', {'a2':'LT','eu':'*'})\r\nupdate('country', {'a2':'LU','eu':'*'})\r\nupdate('country', {'a2':'MT','eu':'*'})\r\nupdate('country', {'a2':'NL','eu':'*'})\r\nupdate('country', {'a2':'AT','eu':'*'})\r\nupdate('country', {'a2':'PL','eu':'*'})\r\nupdate('country', {'a2':'PT','eu':'*'})\r\nupdate('country', {'a2':'RO','eu':'*'})\r\nupdate('country', {'a2':'SE','eu':'*'})\r\nupdate('country', {'a2':'SK','eu':'*'})\r\nupdate('country', {'a2':'SI','eu':'*'})\r\nupdate('country', {'a2':'ES','eu':'*'})\r\nupdate('country', {'a2':'CZ','eu':'*'})\r\nupdate('country', {'a2':'HU','eu':'*'})\r\nupdate('country', {'a2':'CY','eu':'*'})\r\n\r\nupdate('country', {'a2':'AT','mwst':'20', 'vatnummer_len': 'AT9'})\r\nupdate('country', {'a2':'BE','mwst':'21', 'vatnummer_len': 'BE10'})\r\nupdate('country', {'a2':'BG','mwst':'20', 'vatnummer_len': ''})\r\nupdate('country', {'a2':'HR','mwst':'25', 'vatnummer_len': 'HR11'})\r\nupdate('country', {'a2':'CY','mwst':'19', 'vatnummer_len': 'CY9'})\r\nupdate('country', {'a2':'CZ','mwst':'21', 'vatnummer_len': 'DK8'})\r\nupdate('country', {'a2':'DK','mwst':'25', 'vatnummer_len': ''})\r\nupdate('country', {'a2':'EE','mwst':'22', 'vatnummer_len': 'EE9'})\r\nupdate('country', {'a2':'FI','mwst':'24', 'vatnummer_len': 'FI8'})\r\nupdate('country', {'a2':'FR','mwst':'20', 'vatnummer_len': 'FR12'})\r\nupdate('country', {'a2':'DE','mwst':'19', 'vatnummer_len': 'DE9'})\r\nupdate('country', {'a2':'GR','mwst':'24', 'vatnummer_len': 'EL9'})\r\nupdate('country', {'a2':'HU','mwst':'27', 'vatnummer_len': 'HU8'})\r\nupdate('country', {'a2':'IS','mwst':'24', 'vatnummer_len': ''})\r\nupdate('country', {'a2':'IE','mwst':'23', 'vatnummer_len': ''})\r\nupdate('country', {'a2':'IT','mwst':'22', 'vatnummer_len': 'IT11'})\r\nupdate('country', {'a2':'LV','mwst':'21', 'vatnummer_len': 'LV11'})\r\nupdate('country', {'a2':'LT','mwst':'21', 'vatnummer_len': ''})\r\nupdate('country', {'a2':'LU','mwst':'17', 'vatnummer_len': 'LU8'})\r\nupdate('country', {'a2':'MT','mwst':'18', 'vatnummer_len': 'MT8'})\r\nupdate('country', {'a2':'NL','mwst':'21', 'vatnummer_len': 'NL12'})\r\nupdate('country', {'a2':'NO','mwst':'25', 'vatnummer_len': ''})\r\nupdate('country', {'a2':'PL','mwst':'23', 'vatnummer_len': 'PL10'})\r\nupdate('country', {'a2':'PT','mwst':'23', 'vatnummer_len': 'PT9'})\r\nupdate('country', {'a2':'RO','mwst':'19', 'vatnummer_len': 'RO3'})\r\nupdate('country', {'a2':'SK','mwst':'20', 'vatnummer_len': 'SK10'})\r\nupdate('country', {'a2':'SI','mwst':'22', 'vatnummer_len': 'SI8'})\r\nupdate('country', {'a2':'ES','mwst':'21', 'vatnummer_len': 'ES10'})\r\nupdate('country', {'a2':'SE','mwst':'25', 'vatnummer_len': 'SE12'})\r\nupdate('country', {'a2':'CH','mwst':'8.1', 'vatnummer_len': ''})\r\nupdate('country', {'a2':'TR','mwst':'20', 'vatnummer_len': ''})",
   "comment": "",
   "last_line": "60",
   "q2_time": "20240517211208",
   "q2_mode": "u"
  },
  {
   "name": "get_such",
   "script": "def get_such_bank(algo_id):\r\n    x = get(\"konten_buchungs_algo\", f\"id = {algo_id}\")\r\n    st0 = x[\"Suchtext_0\"]\r\n    st1 = x[\"Suchtext_1\"]\r\n    \r\n    sf0 = int_(x[\"suchfelder_0\"])\r\n    sf1 = int_(x[\"suchfelder_0\"])\r\n    whr = []\r\n    \r\n    if st0 !=\"\":\r\n        if (sf0 == 1 or sf0 == 2):\r\n            whr.append(f\"content1 like '%{st0}%'\")\r\n        if (sf0 == 1 or sf0 == 3):\r\n            whr.append(f\"content2 like '%{st0}%'\")\r\n        if (sf0 == 1 or sf0 == 4):\r\n            whr.append(f\"content3 like '%{st0}%'\")\r\n    \r\n    if st1 !=\"\":\r\n        if (sf1 == 1 or sf1 == 2):\r\n            whr.append(f\"content1 like '%{st1}%'\")\r\n        if (sf1 == 1 or sf1 == 3):\r\n            whr.append(f\"content2 like '%{st1}%'\")\r\n        if (sf1 == 1 or sf1 == 4):\r\n            whr.append(f\"content3 like '%{st1}%'\")\r\n    if len(whr) == 0:\r\n        return \"\"\r\n    whr_text = \" or \".join(whr)\r\n    return whr_text\r\n        \r\nif __name__ == \"__main__\":\r\n    q2mess(get_such_bank(1))",
   "comment": "",
   "last_line": "31",
   "q2_time": "20240317222557",
   "q2_mode": "u"
  },
  {
   "name": "get_such_bank",
   "script": "def get_such_bank(algo_id):\r\n    x = get(\"konten_buchungs_algo\", f\"id = {algo_id}\")\r\n    if not x:\r\n        return \"\"\r\n    whr = []\r\n    for index in (0,1):\r\n        suchtext = x[f\"Suchtext_{index}\"]\r\n        suchtfelder = int_(x[f\"suchfelder_{index}\"])\r\n        whr0 = []\r\n        if suchtext !=\"\":\r\n            if suchtfelder in (1,2):\r\n                whr0.append(f\"content1 like '%{suchtext}%'\")\r\n            if suchtfelder in (1,3):\r\n                whr0.append(f\"content2 like '%{suchtext}%'\")\r\n            if suchtfelder in (1, 4):\r\n                whr0.append(f\"content3 like '%{suchtext}%'\")\r\n        if whr0:\r\n            whr0=\" or \".join(whr0)\r\n            whr.append(f\" ({whr0}) \")\r\n\r\n    if len(whr) == 0:\r\n        return \"\"\r\n    whr_text = \" and \".join(whr)\r\n    return whr_text\r\n        \r\nif __name__ == \"__main__\":\r\n    q2mess(get_such_bank(0))",
   "comment": "",
   "last_line": "5",
   "q2_time": "20240314095750",
   "q2_mode": "u"
  },
  {
   "name": "get_such_sales",
   "script": "def get_such_sales(algo_id):\r\n    x = get(\"shops_buchungs_algo\", f\"id = {algo_id}\")\r\n    if not x:\r\n        return \"\"\r\n    whr = []\r\n    for index in (0,1):\r\n        suchtext = x[f\"Suchtext_{index}\"]\r\n        suchtfelder = int_(x[f\"suchfelder_{index}\"])\r\n        whr0 = []\r\n        if suchtext !=\"\":\r\n            if suchtfelder in (1,2):\r\n                suchtext = num(suchtext )\r\n                whr0.append(f\"cast(mwst as decimal) = {suchtext}\")\r\n            if suchtfelder in (1,3):\r\n                whr0.append(f\"content1 like '%{suchtext}%'\")\r\n            if suchtfelder in (1, 4):\r\n                whr0.append(f\"rechnung like '%{suchtext}%'\")\r\n            if suchtfelder in (1, 5):\r\n                whr0.append(f\"land like '%{suchtext}%'\")\r\n            if suchtfelder in (1, 6):\r\n                whr0.append(f\"currency like '%{suchtext}%'\")\r\n            if suchtfelder in (1, 7):\r\n                whr0.append(f\"uland like '%{suchtext}%'\")\r\n        if whr0:\r\n            whr0=\" or \".join(whr0)\r\n            whr.append(f\" ({whr0}) \")\r\n\r\n    if num(x[\"euland\"]) == 2:\r\n        whr.append(\"land in (select a2 from country where eu<>'')\")\r\n    elif num(x[\"euland\"]) == 3:\r\n        whr.append(\"land in (select a2 from country where eu='')\")\r\n    \r\n    if num(x[\"deland\"]) == 2:\r\n        whr.append(\"land = 'DE'\")\r\n    elif num(x[\"deland\"]) == 3:\r\n        whr.append(\"land <> 'DE'\")\r\n\r\n    if num(x[\"mwst\"]) == 2:\r\n        whr.append(\"mwst = 0\")\r\n    if num(x[\"mwst\"]) == 3:\r\n        whr.append(\"mwst <> 0\")\r\n\r\n    if num(x[\"vat_number\"]) == 2:\r\n        whr.append(\"vat_number = ''\")\r\n    if num(x[\"vat_number\"]) == 3:\r\n        whr.append(\"vat_number <> ''\")\r\n\r\n    if len(whr) == 0:\r\n        return \"\"\r\n    whr_text = \" and \".join(whr)\r\n    return whr_text\r\n        \r\nif __name__ == \"__main__\":\r\n    q2mess(get_such_sales(0))",
   "comment": "",
   "last_line": "46",
   "q2_time": "20240509201042",
   "q2_mode": "u"
  },
  {
   "name": "load_bank",
   "script": "class Loader():\r\n    def __init__(self, date1, date2, konto_id):\r\n        self.date1=date1\r\n        self.date2=date2\r\n        self.konto_id = int_(konto_id)\r\n        bk = get(\"konten\",  f\"konto_id={konto_id}\", \"bk\")\r\n        self.algo = int_(get(\"banken\",  f\"bk={bk}\", \"banken.algo\"))\r\n        self.algo_name = get(\"banken\",  f\"bk={bk}\", \"name\")\r\n\r\n    def run(self):\r\n        ext = \"*.csv\"\r\n        # downloads_path = os.path.expanduser(\"~/Downloads\")\r\n        downloads_path = \"\"\r\n        # self.filename = q2_app.get_open_file_dialoq(\"Open CSV\", downloads_path, ext)[0]\r\n        self.filename = q2_app.get_open_file_dialoq(f\"Open CSV ({self.algo_name})\", downloads_path, ext)[0]\r\n        if not self.filename:\r\n            return\r\n        rez = None\r\n        if self.algo == 1:\r\n            rez = self.algo_1()\r\n        elif self.algo == 2:\r\n            rez = self.algo_2()\r\n        elif self.algo == 3:\r\n            rez = self.algo_3()\r\n        elif self.algo == 4:\r\n            rez = self.algo_4()\r\n        elif self.algo == 5:\r\n            rez = self.algo_5()\r\n        elif self.algo == 6:\r\n            rez = self.algo_6()\r\n        elif self.algo == 7:\r\n            rez = self.algo_7()\r\n        elif self.algo == 8:\r\n            rez = self.algo_8()\r\n\r\n        if rez:\r\n            self.insert_bank(rez)\r\n            return True\r\n        return None\r\n\r\n    def insert_bank(self, bank_data):\r\n        bank_data = [row for row in bank_data if row[\"date\"] >= self.date1 or row[\"date\"] <= self.date2]\r\n        if len(bank_data) == 0:\r\n            return\r\n        # schon_da = q2cursor(f\"select * from bank where date>='{self.date1}' and date<='{self.date2}' and konto_id={self.konto_id}\").row_count()\r\n        q2cursor(f\"delete from bank where date>='{self.date1}' and date<='{self.date2}' and konto_id={self.konto_id}\")\r\n        \r\n        w = q2_wait(len(bank_data), \"Inserting rows\")\r\n        transaction()\r\n        for x in bank_data:\r\n            w.step(10)\r\n            if num(x.get(\"betrag\", 0)) == 0:\r\n                continue\r\n            if not x.get(\"rechnung\"):\r\n                x[\"rechnung\"] = self.get_recnung(x[\"content2\"])\r\n            if not insert(\"bank\", x):\r\n                q2mess(\"An error occurred while inserting bank data.\")\r\n                ?q2app.q2_app.db_data.last_sql_error\r\n                break\r\n        commit()\r\n        w.close()\r\n\r\n    def get_recnung(self, text):\r\n        mm=[]\r\n        mm.append(\"rechnungsnummer\")\r\n        mm.append(\"auftragsnummer:\")\r\n        mm.append(\"belegnummer\" )\r\n        mm.append(\" re.\")\r\n        mm.append(\" beleg:\" )\r\n        mm.append(\"vat nr\")\r\n        mm.append(\"invoice no.\")\r\n        mm.append(\"invoice no\")\r\n        mm.append(\"invoice nr.\")\r\n        mm.append(\"invoice\")\r\n        mm.append(\"inv.\")\r\n        mm.append(\"dok nr\")\r\n        mm.append(\"re.-nr.\")\r\n        mm.append(\" r.\")\r\n        mm.append(\"abschlagsrechnung\")\r\n        mm.append(\"rechn nr.\")\r\n        mm.append(\"baltas naktis sia\")\r\n        mm.append(\"beatus sia\")\r\n        mm.append(\"inv. no.\")\r\n        mm.append(\"auftragsnummer:\")\r\n        mm.append(\"faktuurnummer\")\r\n        mm.append(\"inv/\")\r\n        mm.append(\"inv\")\r\n        mm.append(\"proforma-rechnung\")\r\n        mm.append(\"auftrag \")\r\n        mm.append(\"nummer\")\r\n        mm.append(\"pagal:\")\r\n        mm.append(\"rnr\")\r\n        # mm.append(\"rg\")   #\" VOM \"\r\n        mm.append(\" gutschrift\")\r\n        mm.append(\"rechnung\")\r\n        mm.append(\"01 re\")\r\n        mm.append(\" oc202\")\r\n        mm.append(\" 2024\")\r\n        mm.append(\" 2025\")\r\n        mm.append(\" 2026\")\r\n        res = \"\"\r\n        for x in mm:\r\n            tmp = text.lower().split(x)\r\n            if len(tmp) > 1:\r\n                if x in [\" oc202\",\" 2024\",\" 2025\",\" 2026\"]:\r\n                    return x.upper().strip() + tmp[1].strip().split(\" \")[0].upper().replace(\",\",\"\")\r\n                else:\r\n                    return tmp[1].strip().split(\" \")[0].upper().replace(\",\",\"\")\r\n        return \"\"\r\n    \r\n\r\n    def open_csv(self, codepage=\"utf8\", key_string=None, delimiter=\",\", callback=None, quotechar='\"'):\r\n        import csv\r\n        try:\r\n            with open(self.filename, encoding=codepage) as csvfile:\r\n                first_line=csvfile.readline()\r\n                if callback is not None:\r\n                    first_line, key_string = callback(first_line, key_string)\r\n                if  key_string not in first_line:\r\n                    q2mess(f\"\"\"<font color=red>Falche Datei </font>\r\n                            <br><b>{self.filename}</b>\r\n                            <br>(nicht <b>{self.algo_name}</b>)\r\n                            <br>kein \"{key_string}\"\r\n                            <br>\r\n                            <br> in der ersten linie\r\n                            <br>\r\n                            <br>{first_line}\"\"\")\r\n                    return []\r\n                csvfile.seek(0, 0)\r\n                reader = csv.reader(csvfile, delimiter=delimiter, quotechar=quotechar)\r\n                return [x for x in reader]\r\n        except Exception as error:\r\n            q2mess(f\"Fehler: {error}\")\r\n            return []\r\n    \r\n\r\n    def algo_1(self): # Sparkasse\r\n        from datetime import datetime\r\n        def prep_first_line(first_line, key_string):\r\n            key_string = key_string.replace('\"', \"\")\r\n            first_line = first_line.replace('\"', \"\")\r\n            return first_line, key_string\r\n        \r\n        rez =self.open_csv(codepage=\"cp1252\"\r\n                        , key_string='\"Auftragskonto\";\"Buchungstag\";\"Valutadatum\";\"Buchungstext\";\"Verwendungszweck\";\"Glaeubiger ID\";\"Mandatsreferenz\";\"Kundenreferenz (End-to-End)\"'\r\n                        , delimiter=\";\"\r\n                        ,callback=prep_first_line\r\n                        ,quotechar=\"~\")\r\n        rez0=[]\r\n        for x in rez[1:]:\r\n            if len(x) < 15:\r\n                continue\r\n            for index, value in enumerate(x):\r\n                x[index] = x[index].replace('\"', '')\r\n            dct={ \r\n                    \"konto_id\":  self.konto_id ,\r\n                    \"date\":  datetime.strptime(x[1].split(\" \")[0], \"%d.%m.%y\").strftime(\"%Y-%m-%d\") ,\r\n                    \"content1\": x[3],\r\n                    \"content2\": x[4],\r\n                    \"content3\": x[11],\r\n                    \"betrag\": x[14].replace(\".\", \"\").replace(\",\", \".\"),\r\n                    }\r\n            rez0.append(dct)\r\n        return rez0\r\n    \r\n    def algo_2(self):  # Postbank\r\n        from datetime import datetime\r\n        rez =self.open_csv(codepage=\"utf8\"\r\n                        , key_string='Ums\u00e4tze'\r\n                        , delimiter=\";\")\r\n        rez0=[]\r\n        for x in rez[8:-1]:\r\n            if len(x) < 12:\r\n                continue\r\n            dct={ \r\n                    \"konto_id\":  self.konto_id ,\r\n                    \"date\":  datetime.strptime(x[0].split(\" \")[0], \"%d.%m.%Y\").strftime(\"%Y-%m-%d\") ,\r\n                    \"content1\": x[2],\r\n                    \"content2\": x[3],\r\n                    \"content3\": x[4],\r\n                    \"betrag\": x[11].replace(\".\", \"\").replace(\",\", \".\"),\r\n                    }\r\n            rez0.append(dct)\r\n        return rez0\r\n\r\n    def algo_3(self):  # ING\r\n        from datetime import datetime\r\n        rez =self.open_csv(codepage=\"cp1252\"\r\n                        , key_string='Umsatzanzeige;Datei erstellt'\r\n                        , delimiter=\";\")\r\n        rez0=[]\r\n\r\n        for x in rez[13:]:\r\n            if len(x) < 6:\r\n                continue\r\n            dct={ \r\n                    \"konto_id\":  self.konto_id,\r\n                    \"date\":  datetime.strptime(x[0], \"%d.%m.%Y\").strftime(\"%Y-%m-%d\") ,\r\n                    \"content1\": x[2]+ \" \" + x[4],\r\n                    \"content2\": x[3],\r\n                    \"content3\": x[2],\r\n                    \"betrag\": x[5].replace(\".\", \"\").replace(\",\", \".\"),\r\n                    }\r\n            rez0.append(dct)\r\n        return rez0\r\n\r\n    def algo_4(self): # PayPal\r\n        from datetime import datetime\r\n        rez =self.open_csv(codepage=\"utf8\"\r\n                        # , key_string='\"Datum\",\"Uhrzeit\",\"Zeitzone\",\"Name\",\"Typ\",\"Status\",\"W\u00e4hrung\",\"Brutto\",\"Geb\u00fchr\"'\r\n                        , key_string='\"Datum\",\"Uhrzeit\",\"Zeitzone\",\"Beschreibung\",\"W\u00e4hrung\",\"Brutto\",\"Entgelt\",'\r\n                        , delimiter=\",\")\r\n        rez0=[]\r\n        gebuhr = 0\r\n        for x in rez[1:]:\r\n            if len(x) < 9:\r\n                continue\r\n            if x[5] == \"Ausstehend\":\r\n                continue\r\n            dct={ \r\n                    \"konto_id\":  self.konto_id,\r\n                    \"date\":  datetime.strptime(x[0], \"%d.%m.%Y\").strftime(\"%Y-%m-%d\") ,\r\n                    \"content1\": x[11] ,\r\n                    \"content2\": x[10] + \" \" + x[4],\r\n                    \"content3\": x[3],\r\n                    \"rechnung\": x[16] if len(x[16]) < 16 else \"\",\r\n                    \"betrag\": x[5].replace(\".\", \"\").replace(\",\", \".\"),\r\n                    }\r\n            rez0.append(dct)\r\n            gebuhr += num(x[6].replace(\".\", \"\").replace(\",\", \".\"))\r\n        if gebuhr !=0:\r\n            dct0 = dict(dct)\r\n            dct0['betrag'] = str(gebuhr)\r\n            dct0['content1'] = \"Entgelt\"\r\n            dct0['content2'] = \"\"\r\n            dct0['content3'] = \"\"\r\n            dct0['rechnung'] = \"\"\r\n            rez0.append(dct0)\r\n        return rez0\r\n\r\n    def algo_5(self): # Kommerz\r\n        from datetime import datetime\r\n        rez =self.open_csv(codepage=\"utf8\"\r\n                        , key_string='Buchungstag;Wertstellung;Umsatzart;Buchungstext;Betrag;W\u00e4hrung'\r\n                        , delimiter=\";\")\r\n        rez0=[]\r\n        for x in rez[1:]:\r\n            if len(x) < 5:\r\n                continue\r\n            dct={ \r\n                    \"konto_id\":  self.konto_id,\r\n                    \"date\":  datetime.strptime(x[0], \"%d.%m.%Y\").strftime(\"%Y-%m-%d\") ,\r\n                    \"content1\": x[2],\r\n                    \"content2\": x[3],\r\n                    \"content3\": \"\",\r\n                    \"betrag\": x[4].replace(\".\", \"\").replace(\",\", \".\"),\r\n                    }\r\n            rez0.append(dct)\r\n        return rez0\r\n\r\n    def algo_6(self): # Finom\r\n        from datetime import datetime\r\n        rez =self.open_csv(codepage=\"utf8\"\r\n                        , key_string='Buchungsdatum,Time completed,Status,Transaktionsart,Auftraggeber/Empf\u00e4nger,Counterparty BIC'\r\n                        , delimiter=\",\")\r\n        rez0=[]\r\n        for x in rez[1:]:\r\n            if len(x) < 13:\r\n                continue\r\n            dct={ \r\n                    \"konto_id\":  self.konto_id,\r\n                    \"date\":  datetime.strptime(x[0], \"%d.%m.%Y\").strftime(\"%Y-%m-%d\") ,\r\n                    \"content1\": x[4],\r\n                    \"content2\": x[7],\r\n                    \"content3\": \"\",\r\n                    \"betrag\": x[12].replace(\",\", \"\"),\r\n                    }\r\n            rez0.append(dct)\r\n        return rez0\r\n\r\n    def algo_7(self): # HypoVereinsbank\r\n        from datetime import datetime\r\n        rez =self.open_csv(codepage=\"utf-16-le\"\r\n                        , key_string='Kontonummer;Buchungsdatum;Valuta;Empfaenger 1;Empfaenger 2;Verwendungszweck;Betrag;Waehrung'\r\n                        , delimiter=\";\")\r\n        rez0=[]\r\n        for x in rez[1:]:\r\n            if len(x) < 7:\r\n                continue\r\n            dct={ \r\n                    \"konto_id\":  self.konto_id,\r\n                    \"date\":  datetime.strptime(x[1], \"%d.%m.%Y\").strftime(\"%Y-%m-%d\") ,\r\n                    \"content1\":  \"\",\r\n                    \"content2\": x[5],\r\n                    \"content3\": \"\",\r\n                    \"betrag\": x[6].replace(\".\", \"\").replace(\",\", \".\"),\r\n                    }\r\n            rez0.append(dct)\r\n        return rez0\r\n    def algo_8(self): # Qonto\r\n        from datetime import datetime\r\n        rez =self.open_csv(codepage=\"utf8\"\r\n                        # , key_string='\"Datum\",\"Uhrzeit\",\"Zeitzone\",\"Name\",\"Typ\",\"Status\",\"W\u00e4hrung\",\"Brutto\",\"Geb\u00fchr\"'\r\n                        , key_string='Abrechnungstag (UTC);Name der Gegenpartei;Gesamtbetrag (inkl. MwSt.)'\r\n                        , delimiter=\";\")\r\n        rez0=[]\r\n        for x in rez[1:]:\r\n            dct={ \r\n                    \"konto_id\":  self.konto_id,\r\n                    \"date\":  datetime.strptime(x[0][:10], \"%d-%m-%Y\").strftime(\"%Y-%m-%d\") ,\r\n                    \"content1\": x[1] ,\r\n                    \"content2\": \"\",\r\n                    \"content3\": \"\",\r\n                    \"betrag\": x[2].replace(\".\", \"\").replace(\",\", \".\"),\r\n                    }\r\n            rez0.append(dct)\r\n        return rez0\r\n\r\n            \r\nif __name__ == \"__main__\":\r\n    # Loader(\"2023-01-01\", \"2023-12-31\", 1)\r\n    # Loader(\"2023-01-01\", \"2023-12-31\", 2)\r\n    # Loader(\"2023-01-01\", \"2023-12-31\", 2)\r\n    pass",
   "comment": "",
   "last_line": "311",
   "q2_time": "20240806103717",
   "q2_mode": "u"
  },
  {
   "name": "load_sales",
   "script": "class Loader():\r\n    def __init__(self, date1, date2, shop_id, filename=\"\"):\r\n        self.date1=date1\r\n        self.date2=date2\r\n        self.shop_id = int_(shop_id)\r\n        pl = get(\"shops\",  f\"shop_id={shop_id}\", \"pl\")\r\n        self.algo = int_(get(\"plattformen\",  f\"pl={pl}\", \"algo\"))\r\n        self.algo_name = get(\"plattformen\",  f\"pl={pl}\", \"name\")\r\n        self.filename = filename\r\n        self.run()\r\n\r\n    def run(self):\r\n        ext = \"*.csv\"\r\n\r\n        downloads_path = os.path.expanduser(\"~/Downloads\")\r\n        downloads_path = \"\"\r\n        if self.filename == \"\":\r\n            self.filename = q2_app.get_open_file_dialoq(f\"Open CSV ({self.algo_name})\", downloads_path, ext)[0]\r\n        if not self.filename:\r\n            return\r\n        rez = None\r\n        if self.algo == 1:\r\n            rez = self.algo_1()\r\n        elif self.algo == 2:\r\n            rez = self.algo_2()\r\n        elif self.algo == 3:\r\n            rez = self.algo_3()\r\n        elif self.algo == 4:\r\n            rez = self.algo_4()\r\n        elif self.algo == 5:\r\n            rez = self.algo_5()\r\n        elif self.algo == 6:\r\n            rez = self.algo_6()\r\n        elif self.algo == 7:\r\n            rez = self.algo_7()\r\n\r\n        if rez is not None:\r\n            self.insert_sales(rez)\r\n\r\n    def insert_sales(self, sales_data):\r\n        sales_data = [row for row in sales_data if row[\"date\"] >= self.date1 or row[\"date\"] <= self.date2]\r\n        if len(sales_data) == 0:\r\n            return\r\n        q2cursor(f\"delete from sales where date>='{self.date1}' and date<='{self.date2}' and shop_id={self.shop_id}\")\r\n        \r\n        w = q2_wait(len(sales_data), \"Inserting rows\")\r\n        transaction()\r\n        for x in sales_data:\r\n            w.step(1000)\r\n            if x[\"land\"] == \"GR\":\r\n                x[\"land\"] = \"EL\"\r\n            if \"vat_number\" in x:\r\n                x[\"vat_number\"]=self.check_vat_nummer(x[\"vat_number\"], x[\"land\"])\r\n            if not insert(\"sales\", x):\r\n                q2mess(\"An error occurred while inserting sales data.\")\r\n                ?q2app.q2_app.db_data.last_sql_error\r\n                break\r\n            # x = None\r\n        commit()\r\n        w.close()\r\n    \r\n    def open_csv(self, codepage=\"utf8\", key_string=None, delimiter=\",\"):\r\n        import csv\r\n        try:\r\n            with open(self.filename, encoding=codepage) as csvfile:\r\n                first_line=csvfile.readline()\r\n                if  key_string not in first_line:\r\n                    q2mess(f\"\"\"<font color=red>Falche Datei </font>\r\n                            <br><b>{self.filename}</b>\r\n                            <br>(nicht <b>{self.algo_name}</b>)\r\n                            <br>kein \"{key_string}\"\r\n                            <br>\r\n                            <br> in der ersten linie\r\n                            <br>\r\n                            <br>{first_line}\"\"\")\r\n                    return []\r\n                csvfile.seek(0, 0)\r\n                reader = csv.reader(csvfile, delimiter=delimiter)\r\n                return [x for x in reader]\r\n        except Exception as error:\r\n            q2mess(f\"Fehler: {error}\")\r\n            return []\r\n    \r\n    def get_curs_summa(self, val, date, summa):\r\n        k = q2cursor(f\"select kurs from kurse where cur='{val}' and date like '{date[:7]}%' limit 1\").r.kurs\r\n        if num(k) != 0:\r\n            return f\"{round(num(summa)/num(k), 2)}\"\r\n        else:\r\n            return summa    \r\n\r\n    def check_vat_nummer(self, vat_nummer, land):\r\n        if vat_nummer != \"\" and not vat_nummer.startswith(land):\r\n            vat_nummer = f\"{land}{vat_nummer}\"\r\n        return vat_nummer\r\n\r\n    def algo_1(self): # AMAZON\r\n        from datetime import datetime\r\n        rez = self.open_csv(codepage=\"utf8\",\r\n                                    key_string='DRESS\",\"SUPPLIER_NAME\",\"SUPPLIER_VAT_NUMBER\",\"TAX_REPORTING_SCHEME\",\"TAX_COLLECTION_RESPONSIBILITY\"',\r\n                                    delimiter=\",\"\r\n                                    )\r\n        rez0=[]\r\n        currency_found = []\r\n        for x in rez[1:]:\r\n            if len(x) < 83:\r\n                continue\r\n            dct={ \r\n                    \"shop_id\":  self.shop_id ,\r\n                    \"date\":   datetime.strptime(x[11], \"%d-%m-%Y\").strftime(\"%Y-%m-%d\"),\r\n                    # \"content1\": x[14],\r\n                    \"content1\": \"\",\r\n                    \"content2\": x[6],\r\n                    # \"betrag\": str(num(x[45].replace(\"\u20ac\", \"\"))),\r\n                    \"betrag\": str(num(x[52].replace(\"\u20ac\", \"\"))),\r\n                    \"kosten\": str(num(x[48])),\r\n                    \"mwst\": str(num(x[30])*100),\r\n                    \"rechnung\": x[82],\r\n                    \"land\": x[68],\r\n                    \"uland\": x[67],\r\n                    \"currency\": x[53],\r\n                    \"vat_number\": x[78],\r\n                    }\r\n            dct['betrag_cur'] = dct['betrag']\r\n            if dct['land'] == \"DE\":\r\n                dct['vat_number'] = \"\"\r\n            if dct['currency'] !=\"\" and dct['currency'] != \"EUR\":\r\n                if dct['currency'] not in currency_found:\r\n                    currency_found.append(dct['currency'])\r\n                dct['betrag'] = self.get_curs_summa(dct['currency'], dct['date'], dct['betrag'])\r\n            # if x[30] == \"\":\r\n                # _land = x[65]\r\n                # _mwst = get(\"country\", f\"  a2='{_land}'  \", \"mwst\")\r\n                # dct['mwst'] = _mwst\r\n            if num(dct[\"betrag\"])!=0 or num(dct[\"kosten\"])!=0:\r\n                rez0.append(dct)\r\n        if currency_found:\r\n            q2mess(f\"\"\"\u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u044b \u043f\u0440\u043e\u0434\u0430\u0436\u0438 \u0432 \u0432\u0430\u043b\u044e\u0442\u0435: {currency_found}!<br>\r\n                        <font color=darkred size=+2><b>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442 (Ref/W\u00e4hrungen), \r\n                        \u0435\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e - \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u044b \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443!!!\"\"\")\r\n        return rez0\r\n    \r\n    def algo_2(self): # ebay\r\n        from datetime import datetime\r\n        rez = self.open_csv(codepage=\"utf8\",\r\n                                    key_string=',--,--,--,--,--,--,--,--,--,-',\r\n                                    delimiter=\";\"\r\n                                    )\r\n        rez0=[]\r\n\r\n        for x in rez[12:]:\r\n            if \"Auszahlung\" == x[1]:\r\n                continue\r\n            kosten = num(x[27].replace(\".\", \"\").replace(\",\", \".\"))\r\n            kosten += num(x[28].replace(\".\", \"\").replace(\",\", \".\"))\r\n            kosten += num(x[29].replace(\".\", \"\").replace(\",\", \".\"))\r\n            kosten += num(x[30].replace(\".\", \"\").replace(\",\", \".\"))\r\n            kosten += num(x[31].replace(\".\", \"\").replace(\",\", \".\"))\r\n            kosten += num(x[32].replace(\".\", \"\").replace(\",\", \".\"))\r\n            \r\n            betrug = num(x[33].replace(\".\", \"\").replace(\",\", \".\"))\r\n\r\n            # if betrug < 0 and x[12] != \"--\":\r\n                # kosten = betrug\r\n                # betrug = 0\r\n            \r\n            kosten  = str(-kosten)\r\n            betrug  = str(betrug)\r\n            x[0] = x[0].replace(\"M\u00e4r\", \"Mar\").replace(\"Mai\", \"May\")\r\n            dct={ \r\n                    \"shop_id\":  self.shop_id ,\r\n                    \"date\":  datetime.strptime(x[0], \"%d. %b %Y\").strftime(\"%Y-%m-%d\") ,\r\n                    \"content1\": x[19],\r\n                    \"content2\": x[1],\r\n                    \"betrag\": betrug,\r\n                    \"kosten\": kosten,\r\n                    \"mwst\": x[26].replace(\"%\", \"\"),\r\n                    \"rechnung\": x[2],\r\n                    \"land\": x[9],\r\n                    \"uland\": \"DE\",\r\n                    \"currency\": x[11],\r\n                    }\r\n            if dct[\"content2\"] == \"Andere Geb\u00fchr\":\r\n                dct[\"kosten\"] = str(num(dct[\"kosten\"]) - num(dct[\"betrag\"]))\r\n                dct[\"betrag\"] = \"0\"\r\n            if dct[\"content2\"] == \"Belastung\":\r\n                continue\r\n            # if dct[\"content2\"] == \"R\u00fcckerstattung\":\r\n                # la = dct[\"betrag\"]\r\n                # dct[\"betrag\"] = str(-num(dct[\"kosten\"]))\r\n                # dct[\"kosten\"] = str(num(la))\r\n            rez0.append(dct)\r\n        return rez0\r\n\r\n    def algo_3(self): # etsy\r\n        import locale\r\n        from datetime import datetime\r\n        lc = locale.setlocale(locale.LC_ALL)\r\n        locale.setlocale(locale.LC_ALL, \"\")\r\n        locale.setlocale(locale.LC_ALL, \"de_DE\")\r\n\r\n        rez = self.open_csv(codepage=\"utf8\",\r\n                                    key_string='Datum,Art,Titel,Info,W\u00e4hrung,Betrag,\"Geb\u00fchren & Steuern\",Netto,\"Steuerliche Angaben\"',\r\n                                    delimiter=\",\"\r\n                                    )\r\n        rez0=[]\r\n        for x in rez[1:]:\r\n            dct={ \r\n                    \"shop_id\":  self.shop_id ,\r\n                    \"date\":  datetime.strptime(x[0], \"%d. %B %Y\").strftime(\"%Y-%m-%d\") ,\r\n                    \"content1\": x[2],\r\n                    \"betrag\": str(num(x[5].replace(\"\u20ac\", \"\"))),\r\n                    \"kosten\": str(-num(x[6].replace(\"\u20ac\", \"\"))),\r\n                    \"mwst\": 0,\r\n                    \"rechnung\": x[3][:50],\r\n                    \"land\": \"\",\r\n                    \"uland\": \"DE\",\r\n                    \"content2\": x[2],\r\n                    \"currency\": x[4],\r\n                    }\r\n            if num(dct[\"betrag\"]) == 0:\r\n                continue\r\n\r\n            if \"#\" in dct[\"rechnung\"]:\r\n                dct[\"rechnung\"] = dct[\"rechnung\"].split(\"#\")[1]\r\n            else:\r\n                dct[\"rechnung\"] = \"\"\r\n            rez0.append(dct)\r\n        locale.setlocale(locale.LC_ALL, lc)\r\n        return rez0\r\n    \r\n    def algo_4(self): # shopify\r\n        from datetime import datetime\r\n\r\n        rez = self.open_csv(codepage=\"utf8\",\r\n                                    key_string='Name,Email,Financial Status,Paid at,Fulfillment Status,Fulfilled at,Accepts Marketing,Currency,Subtotal,Shipping,Taxes,Total,Discount Code,Discount Amount,Shipp',\r\n                                    delimiter=\",\"\r\n                                    )\r\n        rez0=[]\r\n        for x in rez[1:]:\r\n            if x[3] == \"\":\r\n                continue\r\n            dct={ \r\n                    \"shop_id\":  self.shop_id ,\r\n                    \"date\":  x[3][:10],\r\n                    \"content1\": \"\",\r\n                    \"betrag\": x[11],\r\n                    \"kosten\": 0,\r\n                    \"mwst\": 19 if x[42] == \"DE\" else 0,\r\n                    \"rechnung\": x[0],\r\n                    \"land\": x[42],\r\n                    \"uland\": \"DE\",\r\n                    \"currency\": x[7],\r\n                    \"content2\": x[47] + \" - \" + x[24],\r\n                    }\r\n            rez0.append(dct)\r\n        return rez0\r\n        \r\n    def algo_5(self): # easybill\r\n        from datetime import datetime\r\n        rez = self.open_csv(codepage=\"cp1252\",\r\n                                    key_string='EXTF\";700;21;\"Buchungsstapel\"',\r\n                                    delimiter=\";\"\r\n                                    )\r\n        rez0=[]\r\n        for x in rez[2:]:\r\n            if x == []:\r\n                continue\r\n            dct={ \r\n                    \"shop_id\":  self.shop_id ,\r\n                    # \"date\":  datetime.strptime(x[116], \"%d%m%Y\").strftime(\"%Y-%m-%d\"),\r\n                    \"date\":  datetime.strptime(f\"2024{num(x[9]):04}\", \"%Y%d%m\").strftime(\"%Y-%m-%d\"),\r\n                    \"content1\": x[13],\r\n                    \"content2\": x[39],\r\n                    \"konto\": x[7],\r\n                    \"rechnung\": x[10],\r\n                    \"betrag\": x[0].replace(\".\", \"\").replace(\",\", \".\"),\r\n                    \"kosten\": 0,\r\n                    \"mwst\": 19 if x[39][:2] == \"DE\" else 0,\r\n                    \"land\": x[39][:2],\r\n                    \"uland\": \"DE\",\r\n                    \"currency\": x[3],\r\n                    }\r\n            if x[1] == \"S\":\r\n                dct[\"betrag\"] = \"%s\" % -num(dct[\"betrag\"])\r\n            if len(x[39]) > 2:\r\n                dct['vat_number'] = x[39]\r\n            rez0.append(dct)\r\n        return rez0\r\n        \r\n    def algo_6(self): # plenty\r\n        from datetime import datetime\r\n        rez = self.open_csv(codepage=\"utf8\",\r\n                                    key_string='Belegnummer;Order ID;Soll-Haben;Kunde ID;Kunde;Firma;Vor',\r\n                                    delimiter=\";\"\r\n                                    )\r\n        rez0=[]\r\n        for x in rez[3:]:\r\n            if x == []:\r\n                continue\r\n            dct={ \r\n                    \"shop_id\":  self.shop_id ,\r\n                    \"date\":   datetime.strptime(x[11][:10], \"%d.%m.%Y\").strftime(\"%Y-%m-%d\"),\r\n                    \"content1\": x[4].strip(),\r\n                    \"content2\": x[14],\r\n                    \"betrag\": str(num(x[15].replace(\",\", \".\"))),\r\n                    \"kosten\": 0,\r\n                    \"mwst\": 0,\r\n                    \"rechnung\": x[0],\r\n                    \"land\": x[8],\r\n                    \"uland\": \"DE\",\r\n                    \"currency\": x[18],\r\n                    }\r\n            rez0.append(dct)\r\n        return rez0\r\n\r\n    def algo_7(self): # billbee\r\n        from datetime import datetime\r\n        rez = self.open_csv(codepage=\"utf8\",\r\n                                    key_string='\"Id\";\"Bestellnummer\";\"Bestelldatum\";\"Zahldatum\";\"Gesamt Brutto\";\"Rechnungsadresse Name\"',\r\n                                    delimiter=\";\"\r\n                                    )\r\n        rez0=[]\r\n        currency_found = []\r\n        for x in rez[1:]:\r\n            if x == []:\r\n                continue\r\n            dct={ \r\n                    \"shop_id\":  self.shop_id ,\r\n                    \"date\":   datetime.strptime(x[2], \"%d.%m.%Y\").strftime(\"%Y-%m-%d\"),\r\n                    \"content1\": x[13],\r\n                    \"content2\": x[27]  + (\"/\"+x[5] if not x[5].startswith(\"[\") else \"\") ,\r\n                    \"betrag\": str(num(x[4].replace(\",\", \".\"))),\r\n                    \"kosten\": 0,\r\n                    \"mwst\": str(num(x[15].replace(\",\", \".\"))),\r\n                    \"rechnung\": x[11]+x[12],\r\n                    \"land\": x[10],\r\n                    \"uland\": \"DE\",\r\n                    \"currency\": x[32],\r\n                    }\r\n            if dct['currency'] !=\"\" and dct['currency'] != \"EUR\":\r\n                if dct['currency'] not in currency_found:\r\n                    currency_found.append(dct['currency'])\r\n                dct['betrag'] = self.get_curs_summa(dct['currency'], dct['date'], dct['betrag'])\r\n            rez0.append(dct)\r\n        # q2mess(rez0)\r\n        return rez0\r\n\r\n    \r\nif __name__ == \"__main__\":\r\n    Loader(const.date1, const.date2, 7, r\"C:\\Users\\andre\\Desktop\\Bestellungen.csv\")\r\n    pass",
   "comment": "",
   "last_line": "345",
   "q2_time": "20240828150201",
   "q2_mode": "u"
  },
  {
   "name": "manifest",
   "script": "myapp.app_title = \"VorBuchhaltung\"\nmyapp.app_description = (\"Die Anwendung ist eine integrierte Plattform, \" \r\n                                    \"die einen automatisierten Prozess f\u00fcr den Import \"\r\n                                    \" von Verkaufsberichten aus verschiedenen \"\r\n                                    \"Online-Handelsplattformen sowie Banktransaktionsdaten \"\r\n                                    \"in eine einzige Informationsdatenbank bietet.\")\nmyapp.app_url = \"https://raw.githubusercontent.com/AndreiPuchko/q2market/main/vorbuchhaltung_app\"",
   "comment": "",
   "last_line": "8",
   "q2_time": "20240307220935",
   "q2_mode": "i"
  },
  {
   "name": "on_new_tab",
   "script": "",
   "comment": "",
   "last_line": "1",
   "q2_time": "20240307220935",
   "q2_mode": "i"
  },
  {
   "name": "plot",
   "script": "diver = 1\r\n\r\ncu = q2cursor(f\"\"\"\r\n    select  \r\n        abs(round(sum(summa),0)) as summa\r\n        , kosten.name as name\r\n    from bank, kosten \r\n    where bank.kr=kosten.kr and summa<0\r\n    group by kosten.kr\r\n    order by sum(summa)\r\n    \"\"\")\r\n\r\ncountries = [x['name'][:10] for x in cu.records()]\r\nprofit = [num(x['summa']) for x in cu.records()]\r\n    \r\nimport matplotlib.pyplot as plt\r\n\r\nfig, ax = plt.subplots()\r\n\r\nax.pie(profit, labels=countries)\r\n\r\nplt.show()\r\ncu.browse()",
   "comment": "",
   "last_line": "23",
   "q2_time": "20240307220935",
   "q2_mode": "i"
  },
  {
   "name": "q2date",
   "script": "class q2date:\r\n    def __init__(self, isostring):\r\n        self.date = str(isostring)\r\n    def first_day_of_month(self):\r\n        return f\"{self.date[:7]}-01\"\r\n    def last_day_of_month(self):\r\n        import calendar\r\n        day = calendar.monthrange(int_(self.year()), int_(self.month()))[1]\r\n        return f\"{self.date[:7]}-{day}\"\r\n    def year(self):\r\n        return self.date[:4]\r\n    def month(self):\r\n        return self.date[5:7]",
   "comment": "",
   "last_line": "13",
   "q2_time": "20240307220935",
   "q2_mode": "i"
  },
  {
   "name": "set_gegenkonto_bank",
   "script": "def set_gegenkonto_bank(konto_id):\r\n    import get_such_bank\r\n    cu = q2cursor(f\"\"\"\r\n                                select * \r\n                                from konten_buchungs_algo\r\n                                where konto_id = {konto_id}\r\n                                order by seq\r\n                            \"\"\")\r\n    w = q2_wait(cu.row_count(), \"Gegenkonto suchung\")\r\n    for x in cu.records():\r\n        w.step()\r\n        whr_text = get_such_bank(x['id'])\r\n        if whr_text == \"\":\r\n            return\r\n        cu2 = q2cursor(f\"select * from bank where ({whr_text}) and konto_id={x['konto_id']}\")\r\n        w2 = q2wait(cu2.row_count())\r\n        transaction()\r\n        for row in cu2.records():\r\n            w2.step(1000)\r\n            edit = False\r\n            if row['gegenkonto'] == \"\":\r\n                row['gegenkonto'] = x['gegenkonto']\r\n                edit = True\r\n            if row['taxkey'] == \"\":\r\n                row['taxkey'] = x['taxkey']\r\n                edit = True\r\n            if edit:\r\n                update(\"bank\", row)\r\n        commit()\r\n        w2.close()\r\n    w.close()\r\n\r\nif __name__ == \"__main__\":\r\n    set_gegenkonto_bank(1)",
   "comment": "",
   "last_line": "7",
   "q2_time": "20240707130746",
   "q2_mode": "u"
  },
  {
   "name": "set_gegenkonto_sales",
   "script": "def set_gegenkonto_sales(shop_id):\r\n    import get_such_sales\r\n    cu = q2cursor(f\"\"\"\r\n                                select * \r\n                                from shops_buchungs_algo\r\n                                where shop_id = {shop_id}\r\n                                order by seq\r\n                            \"\"\")\r\n    w = q2wait(cu.row_count(), \"Gegenkonto suchung\")\r\n    for x in cu.records():\r\n        w.step()\r\n        whr_text = get_such_sales(x['id'])\r\n        if whr_text == \"\":\r\n            continue\r\n        transaction()\r\n        cu2=q2cursor(f\"\"\"select sales.id\r\n                                                , konto\r\n                                                , gegenkonto\r\n                                                , kosten_konto\r\n                                                , kosten_gegenkonto\r\n                                                , mwst \r\n                                                , taxkey\r\n                                                , land\r\n                                            from sales where ({whr_text}) \r\n                                                and shop_id={x['shop_id']}\r\n                                       \"\"\")\r\n        w2=q2wait(cu2.row_count())\r\n        for row in cu2.records():\r\n            edit = False\r\n            w2.step(1000)\r\n            \r\n            if row['gegenkonto'] == \"\" and x[\"gegenkonto\"]:\r\n                row['gegenkonto'] = x['gegenkonto']\r\n                edit = True\r\n            if row['konto'] == \"\" and x[\"konto\"]:\r\n                row['konto'] = x['konto']\r\n                edit = True\r\n\r\n            if row['kosten_gegenkonto'] == \"\":\r\n                row['kosten_gegenkonto'] = x['kosten_gegenkonto']\r\n                edit = True\r\n            if row['kosten_konto'] == \"\" and x[\"kosten_konto\"]:\r\n                row['kosten_konto'] = x['kosten_konto']\r\n                edit = True\r\n\r\n            if row['taxkey'] == \"\":\r\n                row['taxkey'] = x['taxkey']\r\n                edit = True\r\n            \r\n            if x[\"set_mwst\"] and num(row[\"mwst\"])  == 0:\r\n                row[\"mwst\"] = get(\"country\", \"a2='%s'\" % row[\"land\"], \"mwst\")\r\n                edit = True\r\n            if edit:\r\n                update(\"sales\", row)\r\n        commit()\r\n        w2.close()\r\n    w.close()\r\n\r\nif __name__ == \"__main__\":\r\n    set_gegenkonto_sales(1)",
   "comment": "",
   "last_line": "22",
   "q2_time": "20240520204621",
   "q2_mode": "u"
  },
  {
   "name": "version",
   "script": "self.app_version = '2024-08-28 15:04:46'",
   "comment": "",
   "last_line": "0",
   "q2_time": "20240828150446",
   "q2_mode": "u"
  }
 ],
 "forms": [
  {
   "name": "Kurse",
   "title": "Kurse",
   "seq": "15",
   "menu_path": "",
   "menu_text": "",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "",
   "toolbar": "",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "kurse",
   "form_table_sort": "",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240509151011",
   "q2_mode": "u",
   "after_form_load": ""
  },
  {
   "name": "W\u00e4hrung",
   "title": "W\u00e4hrung",
   "seq": "14",
   "menu_path": "Ref",
   "menu_text": "W\u00e4hrungen",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "",
   "toolbar": "",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "currency",
   "form_table_sort": "",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240509150842",
   "q2_mode": "u",
   "after_form_load": ""
  },
  {
   "name": "bank",
   "title": "Kontobewebung",
   "seq": "8",
   "menu_path": "",
   "menu_text": "",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "",
   "toolbar": "",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "bank",
   "form_table_sort": "date",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240314085502",
   "q2_mode": "u",
   "after_form_load": ""
  },
  {
   "name": "bank_af",
   "title": "Kontobewebungen filter",
   "seq": "9",
   "menu_path": "Daten",
   "menu_text": "Kontobewebungen",
   "menu_before": "",
   "menu_icon": "$",
   "menu_tiptext": "",
   "menu_separator": "",
   "toolbar": "*",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "",
   "form_table_sort": "",
   "comment": "",
   "before_form_build": "auto_filter(\"bank\", mem)",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "mem.s.date1=const.date1\r\nmem.s.date2 = const.date2",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240326151551",
   "q2_mode": "u",
   "after_form_load": ""
  },
  {
   "name": "banken",
   "title": "Banken",
   "seq": "1",
   "menu_path": "Ref",
   "menu_text": "",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "",
   "toolbar": "",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "banken",
   "form_table_sort": "",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240307220935",
   "q2_mode": "i",
   "after_form_load": ""
  },
  {
   "name": "berichte_sales",
   "title": "Ums\u00e4tze bericht",
   "seq": "12",
   "menu_path": "Berichte",
   "menu_text": "Ums\u00e4tze",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "",
   "toolbar": "",
   "ok_button": "*",
   "cancel_button": "*",
   "view_action": "",
   "form_table": "",
   "form_table_sort": "",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "import q2date\r\nmem.s.date1=const.date1\r\nmem.s.date2 = const.date2",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "q2cursor(f\"\"\"\r\n               select shops.name, land, mwst\r\n                    , round(sum(sales.betrag),2) as betrag\r\n                    , round(sum(sales.kosten), 2) as kosten\r\n                from sales, shops\r\n                where sales.shop_id = shops.shop_id\r\n                    and date>= '{mem.s.date1}' and date<= '{mem.s.date2}'\r\n                group by shops.shop_id, land, mwst\r\n            \"\"\").browse()\r\nreturn False",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240314085500",
   "q2_mode": "u",
   "after_form_load": ""
  },
  {
   "name": "country",
   "title": "L\u00e4nder",
   "seq": "13",
   "menu_path": "Ref",
   "menu_text": "",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "*",
   "toolbar": "",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "country",
   "form_table_sort": "",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240509150842",
   "q2_mode": "u",
   "after_form_load": ""
  },
  {
   "name": "einstellungen",
   "title": "Einstellungen",
   "seq": "16",
   "menu_path": "Ref",
   "menu_text": "",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "*",
   "toolbar": "",
   "ok_button": "*",
   "cancel_button": "*",
   "view_action": "",
   "form_table": "",
   "form_table_sort": "",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "for x in mem.controls:\r\n    column = x[\"column\"]\r\n    if column:\r\n        mem.s.__setattr__(column, const.__getattr__(column))",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "for x in mem.controls:\r\n    column = x[\"column\"]\r\n    if column:\r\n        const.__setattr__(column, mem.s.__getattr__(column))",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240509151011",
   "q2_mode": "u",
   "after_form_load": ""
  },
  {
   "name": "konten",
   "title": "Konten",
   "seq": "2",
   "menu_path": "Ref",
   "menu_text": "",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "",
   "toolbar": "*",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "konten",
   "form_table_sort": "",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240307220935",
   "q2_mode": "i",
   "after_form_load": ""
  },
  {
   "name": "konten_buchungs_algo",
   "title": "Buchung Algorithmus",
   "seq": "3",
   "menu_path": "",
   "menu_text": "",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "",
   "toolbar": "",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "konten_buchungs_algo",
   "form_table_sort": "seq",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240509164534",
   "q2_mode": "u",
   "after_form_load": ""
  },
  {
   "name": "plattformen",
   "title": "Plattformen",
   "seq": "4",
   "menu_path": "Ref",
   "menu_text": "",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "*",
   "toolbar": "",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "plattformen",
   "form_table_sort": "",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240313124433",
   "q2_mode": "u",
   "after_form_load": ""
  },
  {
   "name": "sales",
   "title": "Ums\u00e4tze",
   "seq": "11",
   "menu_path": "",
   "menu_text": "",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "",
   "toolbar": "",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "sales",
   "form_table_sort": "date",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240403100046",
   "q2_mode": "u",
   "after_form_load": ""
  },
  {
   "name": "sales_af",
   "title": "Ums\u00e4tze filter",
   "seq": "10",
   "menu_path": "Daten",
   "menu_text": "Ums\u00e4tze",
   "menu_before": "",
   "menu_icon": "\u2655",
   "menu_tiptext": "",
   "menu_separator": "*",
   "toolbar": "*",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "",
   "form_table_sort": "",
   "comment": "",
   "before_form_build": "auto_filter(\"sales\", mem)",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "mem.s.date1=const.date1\r\nmem.s.date2 = const.date2\r\n?mem.s.laden",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240403100046",
   "q2_mode": "u",
   "after_form_load": ""
  },
  {
   "name": "shops",
   "title": "L\u00e4den",
   "seq": "5",
   "menu_path": "Ref",
   "menu_text": "",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "",
   "toolbar": "*",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "shops",
   "form_table_sort": "",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240307220935",
   "q2_mode": "i",
   "after_form_load": ""
  },
  {
   "name": "shops_buchungs_algo",
   "title": "Shop Buchung Algorithmus",
   "seq": "6",
   "menu_path": "",
   "menu_text": "",
   "menu_before": "",
   "menu_icon": "",
   "menu_tiptext": "",
   "menu_separator": "",
   "toolbar": "",
   "ok_button": "",
   "cancel_button": "",
   "view_action": "",
   "form_table": "shops_buchungs_algo",
   "form_table_sort": "seq",
   "comment": "",
   "before_form_build": "",
   "before_grid_build": "",
   "before_grid_show": "",
   "after_grid_show": "",
   "before_form_show": "mem.s.set_konto=1",
   "after_form_show": "",
   "before_crud_save": "",
   "after_crud_save": "",
   "before_delete": "",
   "after_delete": "",
   "form_valid": "",
   "form_refresh": "",
   "after_form_closed": "",
   "q2_time": "20240509164523",
   "q2_mode": "u",
   "after_form_load": ""
  }
 ],
 "lines": [
  {
   "id": "337",
   "name": "Kurse",
   "column": "id",
   "label": "",
   "gridlabel": "",
   "seq": "0",
   "nogrid": "*",
   "noform": "*",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "*",
   "ai": "*",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240509150449",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "338",
   "name": "Kurse",
   "column": "cur",
   "label": "W\u00e4hrung",
   "gridlabel": "",
   "seq": "1",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "3",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "currency",
   "to_column": "cur",
   "related": "name",
   "to_form": "W\u00e4hrung",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240509152620",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "339",
   "name": "Kurse",
   "column": "kurs",
   "label": "",
   "gridlabel": "",
   "seq": "4",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "num",
   "datalen": "15",
   "datadec": "6",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240517115546",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "341",
   "name": "Kurse",
   "column": "date",
   "label": "Datum",
   "gridlabel": "",
   "seq": "2",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "date",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240517115546",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "335",
   "name": "W\u00e4hrung",
   "column": "cur",
   "label": "Kode",
   "gridlabel": "",
   "seq": "1",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "3",
   "datadec": "0",
   "migrate": "*",
   "pk": "*",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240509152545",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "336",
   "name": "W\u00e4hrung",
   "column": "name",
   "label": "Name",
   "gridlabel": "",
   "seq": "2",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "100",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240509152545",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "64",
   "name": "bank",
   "column": "id",
   "label": "Id",
   "gridlabel": "",
   "seq": "1",
   "nogrid": "*",
   "noform": "*",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "*",
   "ai": "*",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220935",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "65",
   "name": "bank",
   "column": "date",
   "label": "Buchungstag",
   "gridlabel": "",
   "seq": "3",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "date",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240524114442",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "66",
   "name": "bank",
   "column": "content1",
   "label": "Buchungstext",
   "gridlabel": "",
   "seq": "9",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "88",
   "tag": "",
   "control": "text",
   "pic": "",
   "datatype": "char",
   "datalen": "250",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240524114451",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "67",
   "name": "bank",
   "column": "content3",
   "label": "An wen/Von wem",
   "gridlabel": "",
   "seq": "11",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "1",
   "tag": "",
   "control": "text",
   "pic": "",
   "datatype": "char",
   "datalen": "250",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240524114451",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "68",
   "name": "bank",
   "column": "betrag",
   "label": "Betrag",
   "gridlabel": "",
   "seq": "4",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "F",
   "datatype": "dec",
   "datalen": "15",
   "datadec": "2",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240524114442",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "69",
   "name": "bank",
   "column": "content2",
   "label": "Verwendungszweck",
   "gridlabel": "",
   "seq": "10",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "2",
   "tag": "",
   "control": "text",
   "pic": "",
   "datatype": "char",
   "datalen": "250",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240524114451",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "70",
   "name": "bank",
   "column": "konto_id",
   "label": "Konto",
   "gridlabel": "",
   "seq": "2",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "konten",
   "to_column": "konto_id",
   "related": "konto_name",
   "to_form": "konten",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "71",
   "name": "bank",
   "column": "gegenkonto",
   "label": "Gegenkonto",
   "gridlabel": "",
   "seq": "5",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240524114439",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "353",
   "name": "bank",
   "column": "taxkey",
   "label": "Steuerschl\u00fcssel",
   "gridlabel": "",
   "seq": "12",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "4",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240524114451",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "389",
   "name": "bank",
   "column": "rechnung",
   "label": "R-Nummer",
   "gridlabel": "",
   "seq": "7",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "50",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240524114448",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "72",
   "name": "banken",
   "column": "bk",
   "label": "Kode",
   "gridlabel": "",
   "seq": "2",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "*",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240315114420",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "73",
   "name": "banken",
   "column": "name",
   "label": "Name",
   "gridlabel": "",
   "seq": "3",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "250",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240315114420",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "74",
   "name": "banken",
   "column": "algo",
   "label": "Konto Algorithmus",
   "gridlabel": "",
   "seq": "4",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "radio",
   "pic": "Sparkasse;Postbank;ING;PayPal;Commerzbank;Finom;HypoVereinsbank;Qonto",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240806102648",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "75",
   "name": "berichte_sales",
   "column": "date1",
   "label": "Von",
   "gridlabel": "",
   "seq": "0",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "date",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "76",
   "name": "berichte_sales",
   "column": "date2",
   "label": "bis",
   "gridlabel": "",
   "seq": "1",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "date",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "77",
   "name": "country",
   "column": "a2",
   "label": "Kode alpha-2",
   "gridlabel": "",
   "seq": "1",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "2",
   "datadec": "0",
   "migrate": "*",
   "pk": "*",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "78",
   "name": "country",
   "column": "name",
   "label": "Name",
   "gridlabel": "",
   "seq": "3",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "100",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "79",
   "name": "country",
   "column": "mwst",
   "label": "MwSt",
   "gridlabel": "",
   "seq": "4",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "dec",
   "datalen": "6",
   "datadec": "2",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "80",
   "name": "country",
   "column": "a3",
   "label": "Kode Alpha-3",
   "gridlabel": "",
   "seq": "2",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "3",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "162",
   "name": "country",
   "column": "eu",
   "label": "EU Mitglied",
   "gridlabel": "",
   "seq": "5",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "check",
   "pic": "",
   "datatype": "char",
   "datalen": "1",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240315084705",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "358",
   "name": "country",
   "column": "vatnummer_len",
   "label": "VAT nummer lang",
   "gridlabel": "",
   "seq": "6",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "5",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240517210601",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "125",
   "name": "einstellungen",
   "column": "date1",
   "label": "ab",
   "gridlabel": "",
   "seq": "2",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "label",
   "pic": "",
   "datatype": "date",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240315113419",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "126",
   "name": "einstellungen",
   "column": "date2",
   "label": "bis",
   "gridlabel": "",
   "seq": "3",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "date",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240315113419",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "127",
   "name": "einstellungen",
   "column": "",
   "label": "Arbeitsperiode",
   "gridlabel": "",
   "seq": "1",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "label",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240315113419",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "81",
   "name": "konten",
   "column": "bk",
   "label": "Bank",
   "gridlabel": "",
   "seq": "3",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "banken",
   "to_column": "bk",
   "related": "name",
   "to_form": "banken",
   "comment": "",
   "code_when": "mem.heap.labk = mem.s.bk",
   "code_show": "",
   "code_valid": "if mem.heap.labk != mem.s.bk:\r\n    mem.s.konto_name = get(\"banken\", f\"bk={mem.s.bk}\", \"name\")",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "82",
   "name": "konten",
   "column": "konto_name",
   "label": "Kontonummer",
   "gridlabel": "",
   "seq": "4",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "200",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "if mem.s.konto_name == \"\":\r\n    mem.s.konto_name = get(\"banken\", f\"bk={mem.s.bk}\", \"name\")",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "83",
   "name": "konten",
   "column": "buchung_konto",
   "label": "Buchungskonto",
   "gridlabel": "",
   "seq": "6",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "84",
   "name": "konten",
   "column": "iban",
   "label": "IBAN",
   "gridlabel": "",
   "seq": "5",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "50",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "85",
   "name": "konten",
   "column": "details",
   "label": "Details",
   "gridlabel": "",
   "seq": "10",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "text",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "86",
   "name": "konten",
   "column": "konto_id",
   "label": "Kode",
   "gridlabel": "",
   "seq": "2",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "*",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "87",
   "name": "konten",
   "column": "default_gegenkonto_aus",
   "label": "Default Gegenkonto-Aus",
   "gridlabel": "",
   "seq": "8",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "88",
   "name": "konten",
   "column": "default_gegenkonto_ein",
   "label": "Default Gegenkonto-Ein",
   "gridlabel": "",
   "seq": "7",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "89",
   "name": "konten",
   "column": "saldo",
   "label": "Anfangssaldo",
   "gridlabel": "",
   "seq": "11",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "dec",
   "datalen": "15",
   "datadec": "2",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "90",
   "name": "konten_buchungs_algo",
   "column": "id",
   "label": "",
   "gridlabel": "",
   "seq": "3",
   "nogrid": "*",
   "noform": "*",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "*",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240314084347",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "91",
   "name": "konten_buchungs_algo",
   "column": "konto_id",
   "label": "Konto",
   "gridlabel": "",
   "seq": "4",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "konten",
   "to_column": "konto_id",
   "related": "konto_name",
   "to_form": "konten",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240314084341",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "92",
   "name": "konten_buchungs_algo",
   "column": "Suchtext_0",
   "label": "Suchtext 1",
   "gridlabel": "",
   "seq": "10",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "50",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095426",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "93",
   "name": "konten_buchungs_algo",
   "column": "comment",
   "label": "Comment",
   "gridlabel": "",
   "seq": "7",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "200",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095428",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "94",
   "name": "konten_buchungs_algo",
   "column": "/h",
   "label": "Logische Bedingung 1",
   "gridlabel": "",
   "seq": "9",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095653",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "95",
   "name": "konten_buchungs_algo",
   "column": "suchfelder_0",
   "label": "enthalten in",
   "gridlabel": "Suchfelder 1",
   "seq": "11",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "combo",
   "pic": "Alle;Buchungstext;Verwendungszwech;An wen/Von wem",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095733",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "96",
   "name": "konten_buchungs_algo",
   "column": "/h",
   "label": "Logische Bedingung 2",
   "gridlabel": "",
   "seq": "16",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095914",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "97",
   "name": "konten_buchungs_algo",
   "column": "Suchtext_1",
   "label": "Suchtext 2",
   "gridlabel": "",
   "seq": "17",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "50",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095914",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "98",
   "name": "konten_buchungs_algo",
   "column": "suchfelder_1",
   "label": "enthalten in",
   "gridlabel": "Suchfelder 2",
   "seq": "18",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "combo",
   "pic": "Alle;Buchungstext;Verwendungszwech;An wen/Von wem",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095914",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "99",
   "name": "konten_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "19",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095914",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "100",
   "name": "konten_buchungs_algo",
   "column": "",
   "label": "UND",
   "gridlabel": "",
   "seq": "14",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "label",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095914",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": "background:pink"
  },
  {
   "id": "101",
   "name": "konten_buchungs_algo",
   "column": "gegenkonto",
   "label": "Gegen konto",
   "gridlabel": "",
   "seq": "5",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "102",
   "name": "konten_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "12",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095426",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "105",
   "name": "konten_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "8",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095427",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "156",
   "name": "konten_buchungs_algo",
   "column": "seq",
   "label": "Folge",
   "gridlabel": "",
   "seq": "21",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095914",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "157",
   "name": "konten_buchungs_algo",
   "column": "/f",
   "label": "",
   "gridlabel": "",
   "seq": "20",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095914",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "158",
   "name": "konten_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "22",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095914",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "354",
   "name": "konten_buchungs_algo",
   "column": "taxkey",
   "label": "Steuerschl\u00fcssel",
   "gridlabel": "",
   "seq": "6",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "4",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095428",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "355",
   "name": "konten_buchungs_algo",
   "column": "/h",
   "label": "",
   "gridlabel": "",
   "seq": "13",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095915",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "356",
   "name": "konten_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "15",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240515095915",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "106",
   "name": "plattformen",
   "column": "pl",
   "label": "Kode",
   "gridlabel": "",
   "seq": "0",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "*",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "107",
   "name": "plattformen",
   "column": "name",
   "label": "Name",
   "gridlabel": "",
   "seq": "1",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "250",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "108",
   "name": "plattformen",
   "column": "algo",
   "label": "Laden Algorithmus",
   "gridlabel": "",
   "seq": "2",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "radio",
   "pic": "Amazon;eBay;Etsy;Shopify;Easybill;Plenty;BillBee",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240828134352",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "109",
   "name": "sales",
   "column": "id",
   "label": "",
   "gridlabel": "",
   "seq": "0",
   "nogrid": "*",
   "noform": "*",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "*",
   "ai": "*",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240405230258",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "110",
   "name": "sales",
   "column": "shop_id",
   "label": "Laden",
   "gridlabel": "",
   "seq": "1",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "shops",
   "to_column": "shop_id",
   "related": "name",
   "to_form": "shops",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "111",
   "name": "sales",
   "column": "date",
   "label": "Datum",
   "gridlabel": "",
   "seq": "2",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "date",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "112",
   "name": "sales",
   "column": "betrag",
   "label": "Umsatz (EUR)",
   "gridlabel": "",
   "seq": "6",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "F",
   "datatype": "decimal",
   "datalen": "15",
   "datadec": "2",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201918",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "113",
   "name": "sales",
   "column": "kosten",
   "label": "Kosten",
   "gridlabel": "",
   "seq": "11",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "F",
   "datatype": "decimal",
   "datalen": "15",
   "datadec": "2",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201946",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "114",
   "name": "sales",
   "column": "content1",
   "label": "Content 1",
   "gridlabel": "",
   "seq": "25",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "250",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "115",
   "name": "sales",
   "column": "mwst",
   "label": "MwSt",
   "gridlabel": "",
   "seq": "24",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "decimal",
   "datalen": "15",
   "datadec": "2",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "116",
   "name": "sales",
   "column": "land",
   "label": "Lieferland",
   "gridlabel": "",
   "seq": "21",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "3",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "117",
   "name": "sales",
   "column": "rechnung",
   "label": "R-Nummer",
   "gridlabel": "",
   "seq": "26",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "50",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "118",
   "name": "sales",
   "column": "gegenkonto",
   "label": "Gegenkonto",
   "gridlabel": "Umsatz Gegenkonto",
   "seq": "8",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201825",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "119",
   "name": "sales",
   "column": "currency",
   "label": "W\u00e4hrung",
   "gridlabel": "",
   "seq": "17",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "3",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "216",
   "name": "sales",
   "column": "betrag_ist_kosten",
   "label": "Brutto ist kosten",
   "gridlabel": "",
   "seq": "19",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "check",
   "pic": "",
   "datatype": "char",
   "datalen": "1",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "217",
   "name": "sales",
   "column": "content2",
   "label": "Content 2",
   "gridlabel": "",
   "seq": "27",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "250",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "218",
   "name": "sales",
   "column": "taxkey",
   "label": "Steuerschl\u00fcssel",
   "gridlabel": "",
   "seq": "20",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "4",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "219",
   "name": "sales",
   "column": "uland",
   "label": "Ursprungsland",
   "gridlabel": "",
   "seq": "22",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "3",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "334",
   "name": "sales",
   "column": "vat_number",
   "label": "\u041a\u00e4ufer VAT nummer",
   "gridlabel": "",
   "seq": "23",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "357",
   "name": "sales",
   "column": "betrag_cur",
   "label": "Umsatz (W\u00e4hrung)",
   "gridlabel": "",
   "seq": "18",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "F",
   "datatype": "decimal",
   "datalen": "15",
   "datadec": "2",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "359",
   "name": "sales",
   "column": "kosten_gegenkonto",
   "label": "Gegenkonto",
   "gridlabel": "Kosten Gegenkonto",
   "seq": "13",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "360",
   "name": "sales",
   "column": "/f",
   "label": "",
   "gridlabel": "",
   "seq": "16",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "361",
   "name": "sales",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "3",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520200925",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "362",
   "name": "sales",
   "column": "/h",
   "label": "",
   "gridlabel": "",
   "seq": "4",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520200935",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "363",
   "name": "sales",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "15",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "364",
   "name": "sales",
   "column": "/f",
   "label": "Umsatz",
   "gridlabel": "",
   "seq": "5",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201532",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "365",
   "name": "sales",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "9",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "366",
   "name": "sales",
   "column": "/f",
   "label": "Kosten",
   "gridlabel": "",
   "seq": "10",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "367",
   "name": "sales",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "14",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "368",
   "name": "sales",
   "column": "kosten_konto",
   "label": "Konto",
   "gridlabel": "Kosten Konto",
   "seq": "12",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201808",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "369",
   "name": "sales",
   "column": "konto",
   "label": "Konto",
   "gridlabel": "Umsatz Konto",
   "seq": "7",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201825",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "120",
   "name": "shops",
   "column": "shop_id",
   "label": "Kode",
   "gridlabel": "",
   "seq": "1",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "*",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "121",
   "name": "shops",
   "column": "pl",
   "label": "Plattform",
   "gridlabel": "",
   "seq": "2",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "plattformen",
   "to_column": "pl",
   "related": "name",
   "to_form": "plattformen",
   "comment": "",
   "code_when": "mem.heap.lapl=mem.s.pl",
   "code_show": "",
   "code_valid": "if mem.heap.lapl != mem.s.pl:\r\n    mem.s.name = get(\"plattformen\", f\"pl={mem.s.pl}\", \"name\")",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "122",
   "name": "shops",
   "column": "name",
   "label": "Name",
   "gridlabel": "",
   "seq": "3",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "250",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "if mem.s.name == \"\":\r\n    mem.s.name = get(\"plattformen\", f\"pl={mem.s.pl}\", \"name\")",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240307220936",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "123",
   "name": "shops",
   "column": "buchung_konto",
   "label": "Buchungskonto",
   "gridlabel": "Ums\u00e4tze Buchungskonto",
   "seq": "6",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201406",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "124",
   "name": "shops",
   "column": "default_gegenkonto",
   "label": "Standard Gegenkonto",
   "gridlabel": "Ums\u00e4tze Standard Gegenkonto",
   "seq": "7",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201426",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "209",
   "name": "shops",
   "column": "kosten_buchung_konto",
   "label": "Buchungskonto",
   "gridlabel": "Kosten Buchungskonto",
   "seq": "10",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201441",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "210",
   "name": "shops",
   "column": "kosten_default_gegenkonto",
   "label": "Standard Gegenkonto",
   "gridlabel": "Kosten Standard Gegenkonto",
   "seq": "11",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520201445",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "211",
   "name": "shops",
   "column": "/f",
   "label": "Ums\u00e4tze",
   "gridlabel": "",
   "seq": "5",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240315151020",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "212",
   "name": "shops",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "8",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240315150958",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "213",
   "name": "shops",
   "column": "/f",
   "label": "Kosten",
   "gridlabel": "",
   "seq": "9",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240315151024",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "214",
   "name": "shops",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "12",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240315150958",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "215",
   "name": "shops",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "4",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240315151020",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "142",
   "name": "shops_buchungs_algo",
   "column": "id",
   "label": "",
   "gridlabel": "",
   "seq": "1",
   "nogrid": "*",
   "noform": "*",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "*",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240509200643",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "143",
   "name": "shops_buchungs_algo",
   "column": "shop_id",
   "label": "Laden",
   "gridlabel": "",
   "seq": "3",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "shops",
   "to_column": "shop_id",
   "related": "name",
   "to_form": "shops",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240509200643",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "145",
   "name": "shops_buchungs_algo",
   "column": "comment",
   "label": "Comment",
   "gridlabel": "",
   "seq": "56",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "200",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "146",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "19",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203712",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "147",
   "name": "shops_buchungs_algo",
   "column": "/h",
   "label": "Logische Bedingung 1",
   "gridlabel": "",
   "seq": "21",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203714",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "148",
   "name": "shops_buchungs_algo",
   "column": "Suchtext_0",
   "label": "Suchtext",
   "gridlabel": "Suchtext 1",
   "seq": "22",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "99",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "50",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203847",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "149",
   "name": "shops_buchungs_algo",
   "column": "suchfelder_0",
   "label": "enthalten in",
   "gridlabel": "Suchfelder 1",
   "seq": "23",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "combo",
   "pic": "Alle;MwSt;Content 1;R-Nummer;Lief.Land;W\u00e4hrung;Ursp.Land",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203715",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "150",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "25",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203853",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "151",
   "name": "shops_buchungs_algo",
   "column": "",
   "label": "UND",
   "gridlabel": "",
   "seq": "27",
   "nogrid": "*",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "label",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520204059",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": "background:palegreen"
  },
  {
   "id": "152",
   "name": "shops_buchungs_algo",
   "column": "/h",
   "label": "Logische Bedingung 2",
   "gridlabel": "",
   "seq": "29",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203853",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "153",
   "name": "shops_buchungs_algo",
   "column": "Suchtext_1",
   "label": "Suchtext",
   "gridlabel": "Suchtext 2",
   "seq": "30",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "99",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "50",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203853",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "154",
   "name": "shops_buchungs_algo",
   "column": "suchfelder_1",
   "label": "enthalten in",
   "gridlabel": "Suchfelder 2",
   "seq": "31",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "combo",
   "pic": "Alle;MwSt;Content 1;R-Nummer;Lief.Land;W\u00e4hrung;Ursp.Land",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203853",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "155",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "33",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "160",
   "name": "shops_buchungs_algo",
   "column": "seq",
   "label": "Folge",
   "gridlabel": "",
   "seq": "2",
   "nogrid": "",
   "noform": "*",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "int",
   "datalen": "0",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240509200643",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "163",
   "name": "shops_buchungs_algo",
   "column": "",
   "label": "UND",
   "gridlabel": "",
   "seq": "36",
   "nogrid": "*",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "label",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520204123",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": "background:palegreen"
  },
  {
   "id": "164",
   "name": "shops_buchungs_algo",
   "column": "euland",
   "label": "Lieferland ist",
   "gridlabel": "",
   "seq": "37",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "combo",
   "pic": "Egal;EU;Nicht-EU",
   "datatype": "int",
   "datalen": "1",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "203",
   "name": "shops_buchungs_algo",
   "column": "set_mwst",
   "label": "MwSt festlegen (aus der L\u00e4ndertabelle)",
   "gridlabel": "",
   "seq": "51",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "check",
   "pic": "",
   "datatype": "char",
   "datalen": "1",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "204",
   "name": "shops_buchungs_algo",
   "column": "/h",
   "label": "Aktionen",
   "gridlabel": "",
   "seq": "50",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "205",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "54",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "206",
   "name": "shops_buchungs_algo",
   "column": "/v",
   "label": "Logiken",
   "gridlabel": "",
   "seq": "20",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203713",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "208",
   "name": "shops_buchungs_algo",
   "column": "set_konto",
   "label": "Konto und Steuerschl\u00fcssel festlegen (immer, falls angegeben)",
   "gridlabel": "",
   "seq": "52",
   "nogrid": "*",
   "noform": "*",
   "check": "",
   "disabled": "",
   "readonly": "*",
   "stretch": "0",
   "tag": "",
   "control": "check",
   "pic": "",
   "datatype": "char",
   "datalen": "1",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240711195804",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "220",
   "name": "shops_buchungs_algo",
   "column": "taxkey",
   "label": "Steuerschl\u00fcssel",
   "gridlabel": "",
   "seq": "17",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "4",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520202924",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "225",
   "name": "shops_buchungs_algo",
   "column": "mwst",
   "label": "MwsT ist",
   "gridlabel": "",
   "seq": "43",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "combo",
   "pic": "Egal;Nul;Nicht Nul",
   "datatype": "int",
   "datalen": "1",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "226",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "49",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "227",
   "name": "shops_buchungs_algo",
   "column": "",
   "label": "UND",
   "gridlabel": "",
   "seq": "42",
   "nogrid": "*",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "label",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520204124",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": "background:palegreen"
  },
  {
   "id": "228",
   "name": "shops_buchungs_algo",
   "column": "/v",
   "label": "",
   "gridlabel": "",
   "seq": "34",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "229",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "47",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "342",
   "name": "shops_buchungs_algo",
   "column": "deland",
   "label": "Lieferland ist",
   "gridlabel": "",
   "seq": "39",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "combo",
   "pic": "Egal;DE;Nicht DE",
   "datatype": "int",
   "datalen": "1",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "343",
   "name": "shops_buchungs_algo",
   "column": "",
   "label": "UND",
   "gridlabel": "",
   "seq": "38",
   "nogrid": "*",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "label",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520204125",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": "background:palegreen"
  },
  {
   "id": "345",
   "name": "shops_buchungs_algo",
   "column": "/h",
   "label": "",
   "gridlabel": "",
   "seq": "26",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203853",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "346",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "28",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203853",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "347",
   "name": "shops_buchungs_algo",
   "column": "vat_number",
   "label": "VAT Nummer",
   "gridlabel": "",
   "seq": "45",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "combo",
   "pic": "Egal;Leer;Nicht leer",
   "datatype": "int",
   "datalen": "1",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "348",
   "name": "shops_buchungs_algo",
   "column": "",
   "label": "UND",
   "gridlabel": "",
   "seq": "44",
   "nogrid": "*",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "label",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520204125",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": "background:palegreen"
  },
  {
   "id": "349",
   "name": "shops_buchungs_algo",
   "column": "/h",
   "label": "",
   "gridlabel": "",
   "seq": "35",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "350",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "40",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "351",
   "name": "shops_buchungs_algo",
   "column": "/h",
   "label": "",
   "gridlabel": "",
   "seq": "41",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "352",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "46",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "370",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "4",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520202833",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "371",
   "name": "shops_buchungs_algo",
   "column": "/h",
   "label": "Konten",
   "gridlabel": "",
   "seq": "6",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203422",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "372",
   "name": "shops_buchungs_algo",
   "column": "/f",
   "label": "Umsatz",
   "gridlabel": "",
   "seq": "7",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203115",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "374",
   "name": "shops_buchungs_algo",
   "column": "konto",
   "label": "Konto",
   "gridlabel": "Umsatz Konto",
   "seq": "8",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203114",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "375",
   "name": "shops_buchungs_algo",
   "column": "gegenkonto",
   "label": "Gegenkonto",
   "gridlabel": "Umsatz Gegenkonto",
   "seq": "9",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203114",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "376",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "10",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203114",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "377",
   "name": "shops_buchungs_algo",
   "column": "/f",
   "label": "Kosten",
   "gridlabel": "",
   "seq": "11",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203113",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "379",
   "name": "shops_buchungs_algo",
   "column": "kosten_konto",
   "label": "Konto",
   "gridlabel": "Kosten Konto",
   "seq": "12",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203113",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "380",
   "name": "shops_buchungs_algo",
   "column": "kosten_gegenkonto",
   "label": "Gegenkonto",
   "gridlabel": "Kosten Gegenkonto",
   "seq": "13",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "20",
   "datadec": "0",
   "migrate": "*",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203113",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "381",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "14",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203112",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "382",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "16",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203112",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "383",
   "name": "shops_buchungs_algo",
   "column": "/f",
   "label": "Set fields",
   "gridlabel": "",
   "seq": "5",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203300",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "384",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "18",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203643",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "385",
   "name": "shops_buchungs_algo",
   "column": "/f",
   "label": "",
   "gridlabel": "",
   "seq": "55",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "386",
   "name": "shops_buchungs_algo",
   "column": "/",
   "label": "",
   "gridlabel": "",
   "seq": "57",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "",
   "pic": "",
   "datatype": "",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203917",
   "q2_mode": "u",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "387",
   "name": "shops_buchungs_algo",
   "column": "/s",
   "label": "",
   "gridlabel": "",
   "seq": "24",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203859",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  },
  {
   "id": "388",
   "name": "shops_buchungs_algo",
   "column": "/s",
   "label": "",
   "gridlabel": "",
   "seq": "32",
   "nogrid": "",
   "noform": "",
   "check": "",
   "disabled": "",
   "readonly": "",
   "stretch": "0",
   "tag": "",
   "control": "line",
   "pic": "",
   "datatype": "char",
   "datalen": "0",
   "datadec": "0",
   "migrate": "",
   "pk": "",
   "ai": "",
   "to_table": "",
   "to_column": "",
   "related": "",
   "to_form": "",
   "comment": "",
   "code_when": "",
   "code_show": "",
   "code_valid": "",
   "q2_time": "20240520203922",
   "q2_mode": "i",
   "mess": "",
   "alignment": "0",
   "style": ""
  }
 ],
 "queries": [
  {
   "name": "day_stand",
   "content": "{\n  \"queries\": {\n    \"new_query\": \"select date\\r\\n    , (select saldo from konten where konto_id=:konto) +saldo as saldo\\r\\n    , (select round(sum(case when betrag>0 then betrag else 0 end ),2)\\r\\n        from bank\\r\\n        where bank.konto_id = :konto and bank.date=qq.date\\r\\n        )  as ein\\r\\n    , (select round(sum(case when betrag<0 then -betrag else 0 end ),2)\\r\\n        from bank\\r\\n        where bank.konto_id = :konto and bank.date=qq.date\\r\\n        )  as aus\\r\\nfrom\\r\\n    (\\r\\n    SELECT date, \\r\\n           round(   SUM(betrag) OVER (order BY date)    ,2) AS saldo\\r\\n    FROM bank\\r\\n    where bank.konto_id = {konto}\\r\\n    ORDER BY date\\r\\n    ) qq\\r\\ngroup by date\",\n    \"month\": \"SELECT \\r\\n    substr(date,1,4) AS year\\r\\n    , substr(date,6,2) AS month\\r\\n    , round(SUM(case when summa<0 then summa else 0 end),2) AS summa_minus\\r\\nFROM bank\\r\\nwhere kr <> 25\\r\\nGROUP BY year, month\\r\\n\",\n    \"sales\": \"select shops.name, land, mwst\\r\\n    , sum(sales.betrag) as betrag\\r\\n    , sum(sales.kosten) as kosten\\nfrom sales, shops\\r\\nwhere sales.shop_id = shops.shop_id\\r\\ngroup by shops.shop_id, land, mwst\",\n    \"111\": \"\\r\\n               select shops.name, land, mwst\\r\\n                    , round(sum(sales.betrag),2) as betrag\\r\\n                    , round(sum(sales.kosten), 2) as kosten\\r\\n                from sales, shops\\r\\n                where sales.shop_id = shops.shop_id\\r\\n                    and date>= '2024-01-01' and date<= {dt}\\r\\n                group by shops.shop_id, land, mwst\\r\\n            \"\n  },\n  \"params\": {\n    \"konto\": \"2\",\n    \"dt\": \"2024-08-30\"\n  }\n}",
   "comment": "",
   "q2_time": "20240527145038",
   "q2_mode": "u"
  }
 ],
 "actions": [
  {
   "id": "56",
   "name": "Kurse",
   "action_text": "",
   "seq": "0",
   "action_mode": "1",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "0",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240509150449",
   "q2_mode": "i"
  },
  {
   "id": "55",
   "name": "W\u00e4hrung",
   "action_text": "",
   "seq": "0",
   "action_mode": "1",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "0",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240509145957",
   "q2_mode": "i"
  },
  {
   "id": "57",
   "name": "W\u00e4hrung",
   "action_text": "Kurse",
   "seq": "1",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "Kurse",
   "child_where": "cur='{cur}'",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240509152828",
   "q2_mode": "u"
  },
  {
   "id": "58",
   "name": "W\u00e4hrung",
   "action_text": "BMF",
   "seq": "2",
   "action_mode": "2",
   "action_mess": "\u00d6ffnen Sie die BMF-Seite",
   "action_icon": "",
   "action_key": "",
   "tag": "yellow",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "import webbrowser\r\nwebbrowser.open_new_tab(\"https://www.bundesfinanzministerium.de/Web/DE/Themen/Steuern/Steuerarten/Umsatzsteuer/Umsatzsteuer_Umrechnungskurse/umsatzsteuer_umrechnungskurse.html\")",
   "comment": "",
   "q2_time": "20240517112719",
   "q2_mode": "u"
  },
  {
   "id": "27",
   "name": "bank",
   "action_text": "",
   "seq": "0",
   "action_mode": "1",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220936",
   "q2_mode": "i"
  },
  {
   "id": "28",
   "name": "bank",
   "action_text": "Gegenkonto festlegen",
   "seq": "2",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "F4",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "import set_gegenkonto_bank\r\nset_gegenkonto_bank(mem.r.konto_id)\r\nmem.refresh()",
   "comment": "",
   "q2_time": "20240314094836",
   "q2_mode": "u"
  },
  {
   "id": "29",
   "name": "bank",
   "action_text": "Total",
   "seq": "1",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "\u2211",
   "action_key": "F2",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "selected_rows = mem.get_grid_selected_rows()\r\ntot = 0\r\nif len(selected_rows) > 1:\r\n    _range = selected_rows\r\nelse:\r\n    _range = range(mem.model.row_count())\r\n\r\n\r\nfor x in _range:\r\n    tot += num(mem.model.get_record(x)[\"betrag\"])\r\n    \r\nq2mess(tot)",
   "comment": "",
   "q2_time": "20240307220936",
   "q2_mode": "i"
  },
  {
   "id": "30",
   "name": "banken",
   "action_text": "",
   "seq": "0",
   "action_mode": "1",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220936",
   "q2_mode": "i"
  },
  {
   "id": "31",
   "name": "banken",
   "action_text": "Konten",
   "seq": "1",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "lightgreen",
   "eof_disabled": "*",
   "child_form": "konten",
   "child_where": "bk={bk}",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240412101017",
   "q2_mode": "u"
  },
  {
   "id": "32",
   "name": "country",
   "action_text": "",
   "seq": "0",
   "action_mode": "1",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "33",
   "name": "konten",
   "action_text": "",
   "seq": "0",
   "action_mode": "1",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "34",
   "name": "konten",
   "action_text": "Algorithmus",
   "seq": "5",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "A",
   "action_key": "",
   "tag": "",
   "eof_disabled": "*",
   "child_form": "konten_buchungs_algo",
   "child_where": "konto_id={konto_id}",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "35",
   "name": "konten",
   "action_text": "Import",
   "seq": "2",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "F3",
   "tag": "palegreen",
   "eof_disabled": "*",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "if not hasattr(form, \"prev_form\"):\r\n    q2mess('Geh in Ref/Konto, w\u00e4hle eine Konto und mach Actions/Herunterladen!')\r\n    return\r\n\r\n# run_module(\"load_bank\", import_only=True)\r\nimport load_bank\r\nimport q2date\r\n\r\nform_loader = Q2Form(\"Import bank data \")\r\n# form_loader.add_control(\"/f\", \"Herunterladen Bank Data\")\r\n# form_loader.add_control(\"konto_id\", \"Konto\", datatype=\"int\", to_field=\"konto_id\", to_table=\"konten\", related=\"123\", to_form=\"konten\", data=1 )\r\nform_loader.add_control(\"date1\", \"From\", datatype=\"date\", data = const.date1)\r\nform_loader.add_control(\"date2\", \"to\", datatype=\"date\", data = const.date2)\r\n\r\nform_loader.ok_button =1\r\nform_loader.cancel_button =1\r\n\r\nform_loader.run()\r\n\r\nif form_loader.ok_pressed:\r\n    date1 = form_loader.s.date1\r\n    date2 = form_loader.s.date2\r\n    if Loader(date1,date2,form.r.konto_id).run():\r\n        import set_gegenkonto_bank\r\n        set_gegenkonto_bank(mem.r.konto_id)\r\n        mem.refresh()",
   "comment": "",
   "q2_time": "20240412103017",
   "q2_mode": "u"
  },
  {
   "id": "36",
   "name": "konten",
   "action_text": "Kontobewegungen",
   "seq": "4",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "*",
   "child_form": "bank",
   "child_where": "konto_id={konto_id}",
   "child_noshow": "",
   "child_copy_mode": "3",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "37",
   "name": "konten",
   "action_text": "Export",
   "seq": "3",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "F4",
   "tag": "salmon",
   "eof_disabled": "*",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "import q2date\r\nform_loader = Q2Form(\"Export to Agenda CSV\")\r\nform_loader.add_control(\"date1\", \"From\", datatype=\"date\", data = const.date1)\r\nform_loader.add_control(\"date2\", \"to\", datatype=\"date\", data = const.date2)\r\n\r\nform_loader.ok_button =1\r\nform_loader.cancel_button =1\r\n\r\nform_loader.run()\r\n\r\nif form_loader.ok_pressed:\r\n    date1 = form_loader.s.date1\r\n    date2 = form_loader.s.date2\r\n    \r\n    from datetime import datetime\r\n    _date1 = datetime.strptime(date1, \"%Y-%m-%d\").strftime(\"%d.%m.%Y\")\r\n    _date2 = datetime.strptime(date2, \"%Y-%m-%d\").strftime(\"%d.%m.%Y\")\r\n    \r\n    desktop=os.path.expanduser(\"~/Desktop\")\r\n    filename = f\"{desktop}/{mem.r.konto_name} {_date1}-{_date2}.csv\"\r\n    filename = q2_app.get_save_file_dialoq(path=filename, filter = \"*.csv\")[0]\r\n    if filename:\r\n        import csv\r\n        import define_export_columns\r\n        with open(filename, 'w', newline='', encoding = \"utf8\") as csvfile:\r\n            from datetime import datetime\r\n            writer = csv.DictWriter(csvfile, fieldnames=fieldnames, delimiter=';')\r\n            writer.writeheader()\r\n            cu = q2cursor(f\"\"\"select * \r\n                                        from bank where konto_id={mem.r.konto_id} \r\n                                            and date>='{date1}' \r\n                                            and date<='{date2}'\r\n                                        order by date\r\n                                    \"\"\")\r\n            \r\n            for row in cu.records():\r\n                csv_row={}\r\n                csv_row[\"Datum\"] = datetime.strptime(row[\"date\"], \"%Y-%m-%d\").strftime(\"%d.%m.%Y\")\r\n                csv_row[\"Buchungstext\"] = row[\"content2\"] + \" \" +  row[\"content3\"] + \" \" + row[\"content1\"]\r\n                # csv_row[\"Beleg2\"] = row[\"content3\"]\r\n                csv_row[\"Beleg1\"] = row[\"rechnung\"]\r\n                csv_row[\"Beleg2\"] = \"*\"\r\n                \r\n                if num(row[\"betrag\"]) >0:\r\n                    default_gegenkonto=mem.r.default_gegenkonto_ein\r\n                else:\r\n                    default_gegenkonto=mem.r.default_gegenkonto_aus\r\n                \r\n                row[\"betrag\"] = row[\"betrag\"].replace(\".\", \",\")\r\n                csv_row[\"Umsatz in Euro\"] = row[\"betrag\"]\r\n                csv_row[\"Steuerschluessel\"] = row['taxkey']\r\n                csv_row[\"Waehrung\"] = \"EUR\"\r\n                csv_row[\"Konto\"] = mem.r.buchung_konto\r\n                csv_row[\"Gegenkto\"] = row[\"gegenkonto\"] if row[\"gegenkonto\"] != \"\" else default_gegenkonto\r\n                writer.writerow(csv_row)",
   "comment": "",
   "q2_time": "20240806084301",
   "q2_mode": "u"
  },
  {
   "id": "38",
   "name": "konten",
   "action_text": "Tagessaldo",
   "seq": "1",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "F2",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "cu=q2cursor(f\"\"\"\r\n                    select date\r\n                        , (select saldo from konten where konto_id={mem.r.konto_id}) +saldo as saldo\r\n                        , (select round(sum(case when betrag>0 then betrag else 0 end ),2)\r\n                            from bank\r\n                            where bank.konto_id = {mem.r.konto_id} and bank.date=qq.date\r\n                            )  as ein\r\n                        , (select round(sum(case when betrag<0 then -betrag else 0 end ),2)\r\n                            from bank\r\n                            where bank.konto_id = {mem.r.konto_id} and bank.date=qq.date\r\n                            )  as aus\r\n                    from\r\n                        (\r\n                        SELECT date, \r\n                               round(   SUM(betrag) OVER (order BY date)    ,2) AS saldo\r\n                        FROM bank\r\n                        where bank.konto_id = {mem.r.konto_id}\r\n                        ORDER BY date\r\n                        ) qq\r\n                    where date >='{const.date1}' and date <='{const.date2}'\r\n                    group by date\r\n                    \r\n\"\"\")\r\n\r\nform=Q2Form(\"Tagessaldo\")\r\nform.add_control(\"date\", \"Datum\", datatype=\"date\", datalen=12)\r\nform.add_control(\"ein\", \"Ein\", datatype=\"dec\", datalen=15, datadec=2, pic=\"F\")\r\nform.add_control(\"aus\", \"Aus\", datatype=\"dec\", datalen=15, datadec=2, pic=\"F\")\r\nform.add_control(\"saldo\", \"Saldo\", datatype=\"dec\", datalen=15, datadec=2, pic=\"F\")\r\nform.set_model(Q2CursorModel(cu))\r\nform.run()",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "39",
   "name": "konten_buchungs_algo",
   "action_text": "",
   "seq": "0",
   "action_mode": "1",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "40",
   "name": "konten_buchungs_algo",
   "action_text": "Pr\u00fcfen",
   "seq": "1",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "F3",
   "tag": "",
   "eof_disabled": "*",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "import get_such_bank\r\nwhr_text = get_such_bank(mem.r.id) \r\nif whr_text == \"\": \r\n    return \r\nq2cursor(f\"\"\"\r\n                    select date, content1, content2, content3, betrag, gegenkonto \r\n                    from bank \r\n                    where ({whr_text}) and konto_id={mem.r.konto_id}\r\n              \"\"\").browse()",
   "comment": "",
   "q2_time": "20240314094455",
   "q2_mode": "u"
  },
  {
   "id": "41",
   "name": "plattformen",
   "action_text": "",
   "seq": "0",
   "action_mode": "1",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "42",
   "name": "plattformen",
   "action_text": "L\u00e4den",
   "seq": "1",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "*",
   "child_form": "shops",
   "child_where": "pl={pl}",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "43",
   "name": "sales",
   "action_text": "",
   "seq": "0",
   "action_mode": "1",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "44",
   "name": "sales",
   "action_text": "Total",
   "seq": "1",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "\u2211",
   "action_key": "F2",
   "tag": "",
   "eof_disabled": "*",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "selected_rows = mem.get_grid_selected_rows()\r\ntot_betrag = 0\r\ntot_kosten = 0\r\nif len(selected_rows) > 1:\r\n    _range = selected_rows\r\nelse:\r\n    _range = range(mem.model.row_count())\r\n\r\n\r\nfor x in _range:\r\n    tot_betrag += num(mem.model.get_record(x)[\"betrag\"])\r\n    tot_kosten += num(mem.model.get_record(x)[\"kosten\"])\r\n    \r\nq2mess(f\"Betrag: <b>{tot_betrag}</b><br>\" \r\n               f\"Kosten: <b>{tot_kosten}</b><br>\")",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "54",
   "name": "sales",
   "action_text": "Gegenkonto festlegen",
   "seq": "2",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "F4",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "import set_gegenkonto_sales\r\nset_gegenkonto_sales(mem.r.shop_id)\r\nmem.refresh()",
   "comment": "",
   "q2_time": "20240314101309",
   "q2_mode": "u"
  },
  {
   "id": "45",
   "name": "shops",
   "action_text": "",
   "seq": "0",
   "action_mode": "1",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "46",
   "name": "shops",
   "action_text": "Ums\u00e4tze",
   "seq": "3",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "*",
   "child_form": "sales",
   "child_where": "shop_id={shop_id}",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240307220937",
   "q2_mode": "i"
  },
  {
   "id": "47",
   "name": "shops",
   "action_text": "Import",
   "seq": "1",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "F3",
   "tag": "palegreen",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "# if not hasattr(form, \"prev_form\"):\r\n    # q2mess('Geh in Ref/Konto, w\u00e4hle eine Konto und mach Actions/Herunterladen!')\r\n    # return\r\n\r\n# run_module(\"load_bank\", import_only=True)\r\nimport load_sales\r\nimport q2date\r\n\r\nform_loader = Q2Form(\"Import sales data \")\r\n# form_loader.add_control(\"/f\", \"Herunterladen Bank Data\")\r\n# form_loader.add_control(\"konto_id\", \"Konto\", datatype=\"int\", to_field=\"konto_id\", to_table=\"konten\", related=\"123\", to_form=\"konten\", data=1 )\r\nform_loader.add_control(\"date1\", \"From\", datatype=\"date\", data = const.date1)\r\nform_loader.add_control(\"date2\", \"to\", datatype=\"date\", data = const.date2)\r\n\r\nform_loader.ok_button =1\r\nform_loader.cancel_button =1\r\n\r\nform_loader.run()\r\n\r\nif form_loader.ok_pressed:\r\n    date1 = form_loader.s.date1\r\n    date2 = form_loader.s.date2\r\n    Loader(date1,date2,form.r.shop_id)\r\n    import set_gegenkonto_sales\r\n    set_gegenkonto_sales(mem.r.shop_id)\r\n    mem.refresh()",
   "comment": "",
   "q2_time": "20240412102859",
   "q2_mode": "u"
  },
  {
   "id": "48",
   "name": "shops",
   "action_text": "Export",
   "seq": "2",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "F4",
   "tag": "salmon",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "import q2date\r\nform_loader = Q2Form(\"Export to Agenda CSV\")\r\nform_loader.add_control(\"date1\", \"From\", datatype=\"date\", data = const.date1)\r\nform_loader.add_control(\"date2\", \"to\", datatype=\"date\", data = const.date2)\r\n\r\nform_loader.ok_button =1\r\nform_loader.cancel_button =1\r\n\r\nform_loader.run()\r\n\r\nif form_loader.ok_pressed:\r\n    date1 = form_loader.s.date1\r\n    date2 = form_loader.s.date2\r\n    \r\n    from datetime import datetime\r\n    _date1 = datetime.strptime(date1, \"%Y-%m-%d\").strftime(\"%d.%m.%Y\")\r\n    _date2 = datetime.strptime(date2, \"%Y-%m-%d\").strftime(\"%d.%m.%Y\")\r\n    \r\n    desktop=os.path.expanduser(\"~/Desktop\")\r\n    filename = f\"{desktop}/{mem.r.name} {_date1}-{_date2}.csv\"\r\n\r\n    filename = q2_app.get_save_file_dialoq(path=filename, filter = \"*.csv\")[0]\r\n    if filename:\r\n        import csv\r\n        from datetime import datetime\r\n        import define_export_columns\r\n        sql = f\"\"\"select * \r\n                                    from sales \r\n                                    where shop_id={mem.r.shop_id} \r\n                                        and date>='{date1}' \r\n                                        and date<='{date2}'\r\n                                \"\"\"\r\n        cu = q2cursor(sql + \"order by id desc\")\r\n        if cu.record(0, [\"date\"]).get(\"date\", \"\") > cu.record(cu.row_count()-1, [\"date\"]).get(\"date\", \"\"):\r\n            cu = q2cursor(sql + \"order by id\")\r\n        pl = get(\"shops\", f\"shop_id={mem.r.shop_id}\", \"pl\")\r\n        platform_algo = get(\"plattformen\", f\"pl={pl}\", \"algo\")\r\n        with open(filename, 'w', newline='', encoding = \"utf8\") as csvfile:\r\n            from datetime import datetime\r\n            writer = csv.DictWriter(csvfile, fieldnames=fieldnames, delimiter=';')\r\n            writer.writeheader()\r\n            for row in cu.records():\r\n                csv_row={}\r\n                csv_row[\"Datum\"] = datetime.strptime(row[\"date\"], \"%Y-%m-%d\").strftime(\"%d.%m.%Y\")\r\n                if platform_algo == '1':  #amazon\r\n                    csv_row[\"Buchungstext\"] = f'{row[\"land\"]}-{row[\"mwst\"]}-{row[\"currency\"]}-{row[\"vat_number\"]}'\r\n                elif platform_algo in [ '2', '3', '4']:\r\n                    csv_row[\"Buchungstext\"] = f'{row[\"land\"]}-{row[\"mwst\"]}-{row[\"content2\"]}'\r\n                    csv_row[\"Buchungstext\"] = csv_row[\"Buchungstext\"].replace(\"---0-\", \"\")\r\n                    csv_row[\"Buchungstext\"] = csv_row[\"Buchungstext\"].replace(\"-0-\", \"\")\r\n                elif platform_algo in [ '5']:  #easybill\r\n                    csv_row[\"Buchungstext\"] = f'{row[\"content2\"]}-{row[\"content1\"]}'\r\n                elif platform_algo in [ '6']:  #plenty\r\n                    csv_row[\"Buchungstext\"] = f'{row[\"land\"]}-{row[\"content2\"]}-{row[\"content1\"]}'\r\n\r\n                csv_row[\"Beleg2\"] = \"\"\r\n                csv_row[\"Beleg1\"] = row['rechnung']\r\n                csv_row[\"USt-Land Bestimmung\"] = row['land']\r\n                csv_row[\"USt-Land Urspung\"] = row['uland']\r\n                csv_row[\"USt-% Bestimmung\"] = row['mwst']\r\n                csv_row[\"Steuerschluessel\"] = row['taxkey']\r\n                csv_row[\"Umsatzsteuer-ID\"] = row['vat_number']\r\n                \r\n                csv_row[\"Waehrung\"] = \"EUR\"\r\n                csv_row[\"Umsatz in Waehrung\"] = row[\"betrag_cur\"]\r\n                \r\n                csv_row[\"Umsatz in Euro\"] = row[\"betrag\"].replace(\".\", \",\")\r\n                csv_row[\"Konto\"] = row[\"konto\"] if row[\"konto\"] != \"\" else mem.r.buchung_konto\r\n                csv_row[\"Gegenkto\"] = row[\"gegenkonto\"] if row[\"gegenkonto\"] != \"\" else mem.r.default_gegenkonto\r\n                # if row[\"betrag_ist_kosten\"] == \"\":\r\n                # else:\r\n                    # csv_row[\"Umsatz in Euro\"] = str(-num(row[\"betrag\"])).replace(\".\", \",\")\r\n                    # csv_row[\"Konto\"] = mem.r.kosten_buchung_konto\r\n                    # csv_row[\"Gegenkto\"] = row[\"gegenkonto\"] if row[\"gegenkonto\"] != \"\" else mem.r.kosten_default_gegenkonto\r\n                if csv_row[\"Umsatz in Euro\"] != \"0\":\r\n                    writer.writerow(csv_row)\r\n                    \r\n                if num(row[\"kosten\"]) !=0 and platform_algo not in [ '1', '2']:  #skip amazon:\r\n                    row[\"kosten\"] = str(-num(row[\"kosten\"])).replace(\".\", \",\")\r\n                    csv_row[\"Umsatz in Euro\"] = row[\"kosten\"]\r\n                    csv_row[\"Konto\"] = row[\"kosten_konto\"] if row[\"kosten_konto\"] != \"\" else mem.r.kosten_buchung_konto\r\n                    csv_row[\"Gegenkto\"] = row[\"kosten_gegenkonto\"] if row[\"kosten_gegenkonto\"] != \"\" else mem.r.kosten_default_gegenkonto\r\n                    if csv_row[\"Umsatz in Euro\"] != \"0\":\r\n                        writer.writerow(csv_row)",
   "comment": "",
   "q2_time": "20240806084203",
   "q2_mode": "u"
  },
  {
   "id": "53",
   "name": "shops",
   "action_text": "Algorithmus",
   "seq": "4",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "A",
   "action_key": "",
   "tag": "",
   "eof_disabled": "*",
   "child_form": "shops_buchungs_algo",
   "child_where": "shop_id={shop_id}",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240314095945",
   "q2_mode": "u"
  },
  {
   "id": "51",
   "name": "shops_buchungs_algo",
   "action_text": "",
   "seq": "0",
   "action_mode": "1",
   "action_mess": "",
   "action_icon": "",
   "action_key": "",
   "tag": "",
   "eof_disabled": "",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "",
   "comment": "",
   "q2_time": "20240314085457",
   "q2_mode": "i"
  },
  {
   "id": "52",
   "name": "shops_buchungs_algo",
   "action_text": "Pr\u00fcfen",
   "seq": "1",
   "action_mode": "2",
   "action_mess": "",
   "action_icon": "",
   "action_key": "F3",
   "tag": "",
   "eof_disabled": "*",
   "child_form": "",
   "child_where": "",
   "child_noshow": "",
   "child_copy_mode": "1",
   "action_worker": "import get_such_sales\r\nwhr_text = get_such_sales(mem.r.id) \r\nif whr_text == \"\": \r\n    return \r\nq2cursor(f\"\"\"\r\n                    select date\r\n                        , gegenkonto\r\n                        , mwst\r\n                        , content1\r\n                        , rechnung\r\n                        , land\r\n                        , uland\r\n                        , currency\r\n                        , mwst\r\n                    from sales \r\n                    where ({whr_text}) and shop_id={mem.r.shop_id}\r\n              \"\"\").browse()",
   "comment": "",
   "q2_time": "20240403160437",
   "q2_mode": "u"
  }
 ],
 "reports": [
  {
   "name": "",
   "content": "{\n  \"queries\": {\n    \"new_query\": \"select * from \"\n  },\n  \"params\": {},\n  \"pages\": [\n    {\n      \"columns\": [\n        {\n          \"rows\": [\n            {\n              \"role\": \"free\",\n              \"data_source\": \"\",\n              \"groupby\": \"\",\n              \"table_groups\": [],\n              \"print_when\": \"\",\n              \"print_after\": \"\",\n              \"new_page_before\": \"\",\n              \"new_page_after\": \"\",\n              \"heights\": [\n                \"0-0\"\n              ],\n              \"cells\": {\n                \"0,0\": {\n                  \"style\": {\n                    \"border-width\": \"4 2 4 5\",\n                    \"border-color\": \"palette(Light)\"\n                  },\n                  \"data\": \"234234\"\n                },\n                \"0,2\": {\n                  \"style\": {\n                    \"border-color\": \"palette(Light)\"\n                  }\n                },\n                \"0,1\": {\n                  \"style\": {\n                    \"border-color\": \"palette(Light)\"\n                  },\n                  \"data\": \"cdfvsdvsd\"\n                }\n              }\n            }\n          ],\n          \"widths\": [\n            \"50%\",\n            \"2\",\n            \"0\"\n          ]\n        }\n      ],\n      \"page_width\": 21.0,\n      \"page_height\": 29.0,\n      \"page_margin_left\": 2.0,\n      \"page_margin_top\": 2.0,\n      \"page_margin_right\": 1.0,\n      \"page_margin_bottom\": 2.0\n    }\n  ],\n  \"style\": {\n    \"font-family\": \"Arial\",\n    \"font-size\": \"8pt\",\n    \"font-weight\": \"normal\",\n    \"border-width\": \"0 0 0 0\",\n    \"padding\": \"0.05cm 0.05cm 0.05cm 0.05cm\",\n    \"text-align\": \"left\",\n    \"vertical-align\": \"top\"\n  }\n}",
   "comment": "",
   "q2_time": "20240329214543",
   "q2_mode": "u"
  }
 ],
 "packages": []
}